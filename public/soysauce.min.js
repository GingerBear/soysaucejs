function FastClick(f,c){var g;c=c||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=c.touchBoundary||10;this.layer=f;this.tapDelay=c.tapDelay||200;if(FastClick.notNeeded(f)){return}function h(k,j){return function(){return k.apply(j,arguments)}}var b=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var e=this;for(var d=0,a=b.length;d<a;d++){e[b[d]]=h(e[b[d]],e)}if(deviceIsAndroid){f.addEventListener("mouseover",this.onMouse,true);f.addEventListener("mousedown",this.onMouse,true);f.addEventListener("mouseup",this.onMouse,true)}f.addEventListener("click",this.onClick,true);f.addEventListener("touchstart",this.onTouchStart,false);f.addEventListener("touchmove",this.onTouchMove,false);f.addEventListener("touchend",this.onTouchEnd,false);f.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){f.removeEventListener=function(k,m,j){var l=Node.prototype.removeEventListener;if(k==="click"){l.call(f,k,m.hijacked||m,j)}else{l.call(f,k,m,j)}};f.addEventListener=function(l,m,k){var j=Node.prototype.addEventListener;if(l==="click"){j.call(f,l,m.hijacked||(m.hijacked=function(n){if(!n.propagationStopped){m(n)}}),k)}else{j.call(f,l,m,k)}}}if(typeof f.onclick==="function"){g=f.onclick;f.addEventListener("click",function(j){g(j)},false);f.onclick=null}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);var deviceIsIOS4=deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled){return true}break;case"input":if((deviceIsIOS&&a.type==="file")||a.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(a.className)};FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return true;case"select":return !deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !a.disabled&&!a.readOnly;default:return(/\bneedsfocus\b/).test(a.className)}};FastClick.prototype.sendClick=function(b,c){var a,d;if(document.activeElement&&document.activeElement!==b){document.activeElement.blur()}d=c.changedTouches[0];a=document.createEvent("MouseEvents");a.initMouseEvent(this.determineEventType(b),true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);a.forwardedTouchEvent=true;b.dispatchEvent(a)};FastClick.prototype.determineEventType=function(a){if(deviceIsAndroid&&a.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(a){var b;if(deviceIsIOS&&a.setSelectionRange&&a.type.indexOf("date")!==0&&a.type!=="time"){b=a.value.length;a.setSelectionRange(b,b)}else{a.focus()}};FastClick.prototype.updateScrollParent=function(b){var c,a;c=b.fastClickScrollParent;if(!c||!c.contains(b)){a=b;do{if(a.scrollHeight>a.offsetHeight){c=a;b.fastClickScrollParent=a;break}a=a.parentElement}while(a)}if(c){c.fastClickLastScrollTop=c.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(a){if(a.nodeType===Node.TEXT_NODE){return a.parentNode}return a};FastClick.prototype.onTouchStart=function(c){var a,d,b;if(c.targetTouches.length>1){return true}a=this.getTargetElementFromEventTarget(c.target);d=c.targetTouches[0];if(deviceIsIOS){b=window.getSelection();if(b.rangeCount&&!b.isCollapsed){return true}if(!deviceIsIOS4){if(d.identifier===this.lastTouchIdentifier){c.preventDefault();return false}this.lastTouchIdentifier=d.identifier;this.updateScrollParent(a)}}this.trackingClick=true;this.trackingClickStart=c.timeStamp;this.targetElement=a;this.touchStartX=d.pageX;this.touchStartY=d.pageY;if((c.timeStamp-this.lastClickTime)<this.tapDelay){c.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(a){var c=a.changedTouches[0],b=this.touchBoundary;if(Math.abs(c.pageX-this.touchStartX)>b||Math.abs(c.pageY-this.touchStartY)>b){return true}return false};FastClick.prototype.onTouchMove=function(a){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(a){if(a.control!==undefined){return a.control}if(a.htmlFor){return document.getElementById(a.htmlFor)}return a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(c){var e,d,b,g,f,a=this.targetElement;if(!this.trackingClick){return true}if((c.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=c.timeStamp;d=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){f=c.changedTouches[0];a=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||a;a.fastClickScrollParent=this.targetElement.fastClickScrollParent}b=a.tagName.toLowerCase();if(b==="label"){e=this.findControl(a);if(e){this.focus(a);if(deviceIsAndroid){return false}a=e}}else{if(this.needsFocus(a)){if((c.timeStamp-d)>100||(deviceIsIOS&&window.top!==window&&b==="input")){this.targetElement=null;return false}this.focus(a);this.sendClick(a,c);if(!deviceIsIOS||b!=="select"){this.targetElement=null;c.preventDefault()}return false}}if(deviceIsIOS&&!deviceIsIOS4){g=a.fastClickScrollParent;if(g&&g.fastClickLastScrollTop!==g.scrollTop){return true}}if(!this.needsClick(a)){c.preventDefault();this.sendClick(a,c)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(a){if(!this.targetElement){return true}if(a.forwardedTouchEvent){return true}if(!a.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(a.stopImmediatePropagation){a.stopImmediatePropagation()}else{a.propagationStopped=true}a.stopPropagation();a.preventDefault();return false}return true};FastClick.prototype.onClick=function(a){var b;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(a.target.type==="submit"&&a.detail===0){return true}b=this.onMouse(a);if(!b){this.targetElement=null}return b};FastClick.prototype.destroy=function(){var a=this.layer;if(deviceIsAndroid){a.removeEventListener("mouseover",this.onMouse,true);a.removeEventListener("mousedown",this.onMouse,true);a.removeEventListener("mouseup",this.onMouse,true)}a.removeEventListener("click",this.onClick,true);a.removeEventListener("touchstart",this.onTouchStart,false);a.removeEventListener("touchmove",this.onTouchMove,false);a.removeEventListener("touchend",this.onTouchEnd,false);a.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(b){var a;var c;if(typeof window.ontouchstart==="undefined"){return true}c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(c){if(deviceIsAndroid){a=document.querySelector("meta[name=viewport]");if(a){if(a.content.indexOf("user-scalable=no")!==-1){return true}if(c>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(b.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(b,a){return new FastClick(b,a)};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}}(function(C,k){var x=function(N,M){return new x.Instance(N,M||{})};x.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};x.HAS_POINTEREVENTS=C.navigator.pointerEnabled||C.navigator.msPointerEnabled;x.HAS_TOUCHEVENTS=("ontouchstart" in C);x.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;x.NO_MOUSEEVENTS=x.HAS_TOUCHEVENTS&&C.navigator.userAgent.match(x.MOBILE_REGEX);x.EVENT_TYPES={};x.DIRECTION_DOWN="down";x.DIRECTION_LEFT="left";x.DIRECTION_UP="up";x.DIRECTION_RIGHT="right";x.POINTER_MOUSE="mouse";x.POINTER_TOUCH="touch";x.POINTER_PEN="pen";x.EVENT_START="start";x.EVENT_MOVE="move";x.EVENT_END="end";x.DOCUMENT=C.document;x.plugins=x.plugins||{};x.gestures=x.gestures||{};x.READY=false;function e(){if(x.READY){return}x.event.determineEventTypes();x.utils.each(x.gestures,function(M){x.detection.register(M)});x.event.onTouch(x.DOCUMENT,x.EVENT_MOVE,x.detection.detect);x.event.onTouch(x.DOCUMENT,x.EVENT_END,x.detection.detect);x.READY=true}x.utils={extend:function j(M,O,P){for(var N in O){if(M[N]!==k&&P){continue}M[N]=O[N]}return M},each:function(Q,O,N){var M,P;if("forEach" in Q){Q.forEach(O,N)}else{if(Q.length!==k){for(M=0,P=Q.length;M<P;M++){if(O.call(N,Q[M],M,Q)===false){return}}}else{for(M in Q){if(Q.hasOwnProperty(M)&&O.call(N,Q[M],M,Q)===false){return}}}}},hasParent:function(N,M){while(N){if(N==M){return true}N=N.parentNode}return false},getCenter:function y(N){var O=[],M=[];x.utils.each(N,function(P){O.push(typeof P.clientX!=="undefined"?P.clientX:P.pageX);M.push(typeof P.clientY!=="undefined"?P.clientY:P.pageY)});return{pageX:((Math.min.apply(Math,O)+Math.max.apply(Math,O))/2),pageY:((Math.min.apply(Math,M)+Math.max.apply(Math,M))/2)}},getVelocity:function a(M,O,N){return{x:Math.abs(O/M)||0,y:Math.abs(N/M)||0}},getAngle:function o(O,N){var P=N.pageY-O.pageY,M=N.pageX-O.pageX;return Math.atan2(P,M)*180/Math.PI},getDirection:function l(O,N){var M=Math.abs(O.pageX-N.pageX),P=Math.abs(O.pageY-N.pageY);if(M>=P){return O.pageX-N.pageX>0?x.DIRECTION_LEFT:x.DIRECTION_RIGHT}else{return O.pageY-N.pageY>0?x.DIRECTION_UP:x.DIRECTION_DOWN}},getDistance:function n(O,N){var M=N.pageX-O.pageX,P=N.pageY-O.pageY;return Math.sqrt((M*M)+(P*P))},getScale:function w(N,M){if(N.length>=2&&M.length>=2){return this.getDistance(M[0],M[1])/this.getDistance(N[0],N[1])}return 1},getRotation:function u(N,M){if(N.length>=2&&M.length>=2){return this.getAngle(M[1],M[0])-this.getAngle(N[1],N[0])}return 0},isVertical:function B(M){return(M==x.DIRECTION_UP||M==x.DIRECTION_DOWN)},stopDefaultBrowserBehavior:function c(N,M){if(!M||!N||!N.style){return}x.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(O){x.utils.each(M,function(P){if(O){P=O+P.substring(0,1).toUpperCase()+P.substring(1)}if(P in N.style){N.style[P]=P}})});if(M.userSelect=="none"){N.onselectstart=function(){return false}}if(M.userDrag=="none"){N.ondragstart=function(){return false}}}};x.Instance=function(O,N){var M=this;e();this.element=O;this.enabled=true;this.options=x.utils.extend(x.utils.extend({},x.defaults),N||{});if(this.options.stop_browser_behavior){x.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior)}x.event.onTouch(O,x.EVENT_START,function(P){if(M.enabled){x.detection.startDetect(M,P)}});return this};x.Instance.prototype={on:function D(M,N){var O=M.split(" ");x.utils.each(O,function(P){this.element.addEventListener(P,N,false)},this);return this},off:function p(M,N){var O=M.split(" ");x.utils.each(O,function(P){this.element.removeEventListener(P,N,false)},this);return this},trigger:function H(N,P){if(!P){P={}}var O=x.DOCUMENT.createEvent("Event");O.initEvent(N,true,true);O.gesture=P;var M=this.element;if(x.utils.hasParent(P.target,M)){M=P.target}M.dispatchEvent(O);return this},enable:function d(M){this.enabled=M;return this}};var G=null;var m=false;var h=false;x.event={bindDom:function(N,P,O){var M=P.split(" ");x.utils.each(M,function(Q){N.addEventListener(Q,O,false)})},onTouch:function A(O,N,P){var M=this;this.bindDom(O,x.EVENT_TYPES[N],function Q(S){var T=S.type.toLowerCase();if(T.match(/mouse/)&&h){return}else{if(T.match(/touch/)||T.match(/pointerdown/)||(T.match(/mouse/)&&S.which===1)){m=true}else{if(T.match(/mouse/)&&!S.which){m=false}}}if(T.match(/touch|pointer/)){h=true}var R=0;if(m){if(x.HAS_POINTEREVENTS&&N!=x.EVENT_END){R=x.PointerEvent.updatePointer(N,S)}else{if(T.match(/touch/)){R=S.touches.length}else{if(!h){R=T.match(/up/)?0:1}}}if(R>0&&N==x.EVENT_END){N=x.EVENT_MOVE}else{if(!R){N=x.EVENT_END}}if(R||G===null){G=S}P.call(x.detection,M.collectEventData(O,N,M.getTouchList(G,N),S));if(x.HAS_POINTEREVENTS&&N==x.EVENT_END){R=x.PointerEvent.updatePointer(N,S)}}if(!R){G=null;m=false;h=false;x.PointerEvent.reset()}})},determineEventTypes:function F(){var M;if(x.HAS_POINTEREVENTS){M=x.PointerEvent.getEvents()}else{if(x.NO_MOUSEEVENTS){M=["touchstart","touchmove","touchend touchcancel"]}else{M=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}}x.EVENT_TYPES[x.EVENT_START]=M[0];x.EVENT_TYPES[x.EVENT_MOVE]=M[1];x.EVENT_TYPES[x.EVENT_END]=M[2]},getTouchList:function t(M){if(x.HAS_POINTEREVENTS){return x.PointerEvent.getTouchList()}else{if(M.touches){return M.touches}else{M.identifier=1;return[M]}}},collectEventData:function K(O,N,Q,P){var M=x.POINTER_TOUCH;if(P.type.match(/mouse/)||x.PointerEvent.matchType(x.POINTER_MOUSE,P)){M=x.POINTER_MOUSE}return{center:x.utils.getCenter(Q),timeStamp:new Date().getTime(),target:P.target,touches:Q,eventType:N,pointerType:M,srcEvent:P,preventDefault:function(){if(this.srcEvent.preventManipulation){this.srcEvent.preventManipulation()}if(this.srcEvent.preventDefault){this.srcEvent.preventDefault()}},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return x.detection.stopDetect()}}}};x.PointerEvent={pointers:{},getTouchList:function(){var M=this;var N=[];x.utils.each(M.pointers,function(O){N.push(O)});return N},updatePointer:function(N,M){if(N==x.EVENT_END){this.pointers={}}else{M.identifier=M.pointerId;this.pointers[M.pointerId]=M}return Object.keys(this.pointers).length},matchType:function(M,O){if(!O.pointerType){return false}var P=O.pointerType,N={};N[x.POINTER_MOUSE]=(P===O.MSPOINTER_TYPE_MOUSE||P===x.POINTER_MOUSE);N[x.POINTER_TOUCH]=(P===O.MSPOINTER_TYPE_TOUCH||P===x.POINTER_TOUCH);N[x.POINTER_PEN]=(P===O.MSPOINTER_TYPE_PEN||P===x.POINTER_PEN);return N[M]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};x.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function z(N,M){if(this.current){return}this.stopped=false;this.current={inst:N,startEvent:x.utils.extend({},M),lastEvent:false,name:""};this.detect(M)},detect:function r(M){if(!this.current||this.stopped){return}M=this.extendEventData(M);var N=this.current.inst.options;x.utils.each(this.gestures,function(O){if(!this.stopped&&N[O.name]!==false){if(O.handler.call(O,M,this.current.inst)===false){this.stopDetect();return false}}},this);if(this.current){this.current.lastEvent=M}if(M.eventType==x.EVENT_END&&!M.touches.length-1){this.stopDetect()}return M},stopDetect:function b(){this.previous=x.utils.extend({},this.current);this.current=null;this.stopped=true},extendEventData:function v(P){var Q=this.current.startEvent;if(Q&&(P.touches.length!=Q.touches.length||P.touches===Q.touches)){Q.touches=[];x.utils.each(P.touches,function(U){Q.touches.push(x.utils.extend({},U))})}var N=P.timeStamp-Q.timeStamp,T=P.center.pageX-Q.center.pageX,S=P.center.pageY-Q.center.pageY,O=x.utils.getVelocity(N,T,S),R,M;if(P.eventType==="end"){R=this.current.lastEvent&&this.current.lastEvent.interimAngle;M=this.current.lastEvent&&this.current.lastEvent.interimDirection}else{R=this.current.lastEvent&&x.utils.getAngle(this.current.lastEvent.center,P.center);M=this.current.lastEvent&&x.utils.getDirection(this.current.lastEvent.center,P.center)}x.utils.extend(P,{deltaTime:N,deltaX:T,deltaY:S,velocityX:O.x,velocityY:O.y,distance:x.utils.getDistance(Q.center,P.center),angle:x.utils.getAngle(Q.center,P.center),interimAngle:R,direction:x.utils.getDirection(Q.center,P.center),interimDirection:M,scale:x.utils.getScale(Q.touches,P.touches),rotation:x.utils.getRotation(Q.touches,P.touches),startEvent:Q});return P},register:function f(N){var M=N.defaults||{};if(M[N.name]===k){M[N.name]=true}x.utils.extend(x.defaults,M,true);N.index=N.index||1000;this.gestures.push(N);this.gestures.sort(function(P,O){if(P.index<O.index){return -1}if(P.index>O.index){return 1}return 0});return this.gestures}};x.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:true,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false,drag_lock_min_distance:25},triggered:false,handler:function s(N,O){if(x.detection.current.name!=this.name&&this.triggered){O.trigger(this.name+"end",N);this.triggered=false;return}if(O.options.drag_max_touches>0&&N.touches.length>O.options.drag_max_touches){return}switch(N.eventType){case x.EVENT_START:this.triggered=false;break;case x.EVENT_MOVE:if(N.distance<O.options.drag_min_distance&&x.detection.current.name!=this.name){return}if(x.detection.current.name!=this.name){x.detection.current.name=this.name;if(O.options.correct_for_drag_min_distance&&N.distance>0){var M=Math.abs(O.options.drag_min_distance/N.distance);x.detection.current.startEvent.center.pageX+=N.deltaX*M;x.detection.current.startEvent.center.pageY+=N.deltaY*M;N=x.detection.extendEventData(N)}}if(x.detection.current.lastEvent.drag_locked_to_axis||(O.options.drag_lock_to_axis&&O.options.drag_lock_min_distance<=N.distance)){N.drag_locked_to_axis=true}var P=x.detection.current.lastEvent.direction;if(N.drag_locked_to_axis&&P!==N.direction){if(x.utils.isVertical(P)){N.direction=(N.deltaY<0)?x.DIRECTION_UP:x.DIRECTION_DOWN}else{N.direction=(N.deltaX<0)?x.DIRECTION_LEFT:x.DIRECTION_RIGHT}}if(!this.triggered){O.trigger(this.name+"start",N);this.triggered=true}O.trigger(this.name,N);O.trigger(this.name+N.direction,N);if((O.options.drag_block_vertical&&x.utils.isVertical(N.direction))||(O.options.drag_block_horizontal&&!x.utils.isVertical(N.direction))){N.preventDefault()}break;case x.EVENT_END:if(this.triggered){O.trigger(this.name+"end",N)}this.triggered=false;break}}};x.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function J(M,N){switch(M.eventType){case x.EVENT_START:clearTimeout(this.timer);x.detection.current.name=this.name;this.timer=setTimeout(function(){if(x.detection.current.name=="hold"){N.trigger("hold",M)}},N.options.hold_timeout);break;case x.EVENT_MOVE:if(M.distance>N.options.hold_threshold){clearTimeout(this.timer)}break;case x.EVENT_END:clearTimeout(this.timer);break}}};x.gestures.Release={name:"release",index:Infinity,handler:function I(M,N){if(M.eventType==x.EVENT_END){N.trigger(this.name,M)}}};x.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:0.7},handler:function L(M,N){if(M.eventType==x.EVENT_END){if(N.options.swipe_max_touches>0&&M.touches.length<N.options.swipe_min_touches&&M.touches.length>N.options.swipe_max_touches){return}if(M.velocityX>N.options.swipe_velocity||M.velocityY>N.options.swipe_velocity){N.trigger(this.name,M);N.trigger(this.name+M.direction,M)}}}};x.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:true,doubletap_distance:20,doubletap_interval:300},handler:function E(O,P){if(O.eventType==x.EVENT_END&&O.srcEvent.type!="touchcancel"){var N=x.detection.previous,M=false;if(O.deltaTime>P.options.tap_max_touchtime||O.distance>P.options.tap_max_distance){return}if(N&&N.name=="tap"&&(O.timeStamp-N.lastEvent.timeStamp)<P.options.doubletap_interval&&O.distance<P.options.doubletap_distance){P.trigger("doubletap",O);M=true}if(!M||P.options.tap_always){x.detection.current.name="tap";P.trigger(x.detection.current.name,O)}}}};x.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false,prevent_mouseevents:false},handler:function g(M,N){if(N.options.prevent_mouseevents&&M.pointerType==x.POINTER_MOUSE){M.stopDetect();return}if(N.options.prevent_default){M.preventDefault()}if(M.eventType==x.EVENT_START){N.trigger(this.name,M)}}};x.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:false},triggered:false,handler:function q(O,P){if(x.detection.current.name!=this.name&&this.triggered){P.trigger(this.name+"end",O);this.triggered=false;return}if(O.touches.length<2){return}if(P.options.transform_always_block){O.preventDefault()}switch(O.eventType){case x.EVENT_START:this.triggered=false;break;case x.EVENT_MOVE:var N=Math.abs(1-O.scale);var M=Math.abs(O.rotation);if(N<P.options.transform_min_scale&&M<P.options.transform_min_rotation){return}x.detection.current.name=this.name;if(!this.triggered){P.trigger(this.name+"start",O);this.triggered=true}P.trigger(this.name,O);if(M>P.options.transform_min_rotation){P.trigger("rotate",O)}if(N>P.options.transform_min_scale){P.trigger("pinch",O);P.trigger("pinch"+((O.scale<1)?"in":"out"),O)}break;case x.EVENT_END:if(this.triggered){P.trigger(this.name+"end",O)}this.triggered=false;break}}};C.Hammer=x})(this);(function(b,c){function a(d,e){d.event.bindDom=function(f,h,g){e(f).on(h,function(j){var k=j.originalEvent||j;if(k.pageX===c){k.pageX=j.pageX;k.pageY=j.pageY}if(!k.target){k.target=j.target}if(k.which===c){k.which=k.button}if(!k.preventDefault){k.preventDefault=j.preventDefault}if(!k.stopPropagation){k.stopPropagation=j.stopPropagation}g.call(this,k)})};d.Instance.prototype.on=function(f,g){return e(this.element).on(f,g)};d.Instance.prototype.off=function(f,g){return e(this.element).off(f,g)};d.Instance.prototype.trigger=function(f,h){var g=e(this.element);if(g.has(h.target).length){g=e(h.target)}return g.trigger({type:f,gesture:h})};e.fn.hammer=function(f){return this.each(function(){var g=e(this);var h=g.data("hammer");if(!h){g.data("hammer",new d(this,f||{}))}else{if(h&&f){d.utils.extend(h.options,f)}}})}}a(b.Hammer,b.jQuery||b.Zepto)})(this);if(!jQuery.fn.find){jQuery.fn.extend({find:function(b){var e,d,c,a=this.length;if(typeof b!=="string"){c=this;return this.pushStack(jQuery(b).filter(function(){for(e=0;e<a;e++){if(jQuery.contains(c[e],this)){return true}}}))}d=[];for(e=0;e<a;e++){jQuery.find(b,this[e],d)}d=this.pushStack(a>1?jQuery.unique(d):d);d.selector=(this.selector?this.selector+" ":"")+b;return d}})}if(!jQuery.fn.on){jQuery.fn.extend({on:function(c,a,f,e,b){var d,g;if(typeof c==="object"){if(typeof a!=="string"){f=f||a;a=undefined}for(d in c){this.on(d,a,f,c[d],b)}return this}if(f==null&&e==null){e=a;f=a=undefined}else{if(e==null){if(typeof a==="string"){e=f;f=undefined}else{e=f;f=a;a=undefined}}}if(e===false){e=returnFalse}else{if(!e){return this}}if(b===1){g=e;e=function(h){jQuery().off(h);return g.apply(this,arguments)};e.guid=g.guid||(g.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,c,e,f,a)})}})}if(!jQuery.fn.one){jQuery.fn.extend({one:function(b,a,d,c){return this.on(b,a,d,c,1)}})}if(!jQuery.fn.off){jQuery.fn.extend({off:function(c,a,e){var b,d;if(c&&c.preventDefault&&c.handleObj){b=c.handleObj;jQuery(c.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler);return this}if(typeof c==="object"){for(d in c){this.off(d,a,c[d])}return this}if(a===false||typeof a==="function"){e=a;a=undefined}if(e===false){e=returnFalse}return this.each(function(){jQuery.event.remove(this,c,e,a)})}})}(function(){function c(){}var m=c.prototype;var w=this;var y=w.EventEmitter;function h(A,B){var z=A.length;while(z--){if(A[z].listener===B){return z}}return -1}function k(z){return function A(){return this[z].apply(this,arguments)}}m.getListeners=function u(z){var C=this._getEvents();var A;var B;if(typeof z==="object"){A={};for(B in C){if(C.hasOwnProperty(B)&&z.test(B)){A[B]=C[B]}}}else{A=C[z]||(C[z]=[])}return A};m.flattenListeners=function s(B){var z=[];var A;for(A=0;A<B.length;A+=1){z.push(B[A].listener)}return z};m.getListenersAsObject=function e(z){var B=this.getListeners(z);var A;if(B instanceof Array){A={};A[z]=B}return A||B};m.addListener=function f(z,C){var B=this.getListenersAsObject(z);var D=typeof C==="object";var A;for(A in B){if(B.hasOwnProperty(A)&&h(B[A],C)===-1){B[A].push(D?C:{listener:C,once:false})}}return this};m.on=k("addListener");m.addOnceListener=function a(z,A){return this.addListener(z,{listener:A,once:true})};m.once=k("addOnceListener");m.defineEvent=function q(z){this.getListeners(z);return this};m.defineEvents=function r(z){for(var A=0;A<z.length;A+=1){this.defineEvent(z[A])}return this};m.removeListener=function b(z,D){var C=this.getListenersAsObject(z);var A;var B;for(B in C){if(C.hasOwnProperty(B)){A=h(C[B],D);if(A!==-1){C[B].splice(A,1)}}}return this};m.off=k("removeListener");m.addListeners=function n(z,A){return this.manipulateListeners(false,z,A)};m.removeListeners=function t(z,A){return this.manipulateListeners(true,z,A)};m.manipulateListeners=function g(A,B,D){var C;var E;var F=A?this.removeListener:this.addListener;var z=A?this.removeListeners:this.addListeners;if(typeof B==="object"&&!(B instanceof RegExp)){for(C in B){if(B.hasOwnProperty(C)&&(E=B[C])){if(typeof E==="function"){F.call(this,C,E)}else{z.call(this,C,E)}}}}else{C=D.length;while(C--){F.call(this,B,D[C])}}return this};m.removeEvent=function p(z){var C=typeof z;var B=this._getEvents();var A;if(C==="string"){delete B[z]}else{if(C==="object"){for(A in B){if(B.hasOwnProperty(A)&&z.test(A)){delete B[A]}}}else{delete this._events}}return this};m.removeAllListeners=k("removeEvent");m.emitEvent=function v(z,B){var E=this.getListenersAsObject(z);var F;var D;var C;var A;for(C in E){if(E.hasOwnProperty(C)){D=E[C].length;while(D--){F=E[C][D];if(F.once===true){this.removeListener(z,F.listener)}A=F.listener.apply(this,B||[]);if(A===this._getOnceReturnValue()){this.removeListener(z,F.listener)}}}}return this};m.trigger=k("emitEvent");m.emit=function l(z){var A=Array.prototype.slice.call(arguments,1);return this.emitEvent(z,A)};m.setOnceReturnValue=function j(z){this._onceReturnValue=z;return this};m._getOnceReturnValue=function o(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};m._getEvents=function d(){return this._events||(this._events={})};c.noConflict=function x(){w.EventEmitter=y;return c};this.EventEmitter=c}.call(this));(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g}if(b.addEventListener){f=function(j,h,g){j.addEventListener(h,g,false)}}else{if(b.attachEvent){f=function(j,h,g){j[h+g]=g.handleEvent?function(){var k=a(j);g.handleEvent.call(g,k)}:function(){var k=a(j);g.call(j,k)};j.attachEvent("on"+h,j[h+g])}}}var d=function(){};if(b.removeEventListener){d=function(j,h,g){j.removeEventListener(h,g,false)}}else{if(b.detachEvent){d=function(k,h,g){k.detachEvent("on"+h,k[h+g]);try{delete k[h+g]}catch(j){k[h+g]=undefined}}}}var c={bind:f,unbind:d};e.eventie=c})(this);(function(f){var d=f.jQuery;var c=f.console;var a=typeof c!=="undefined";function g(l,k){for(var m in k){l[m]=k[m]}return l}var j=Object.prototype.toString;function e(k){return j.call(k)==="[object Array]"}function b(n){var m=[];if(e(n)){m=n}else{if(typeof n.length==="number"){for(var l=0,k=n.length;l<k;l++){m.push(n[l])}}else{m.push(n)}}return m}function h(n,l){function m(s,r,q){if(!(this instanceof m)){return new m(s,r)}if(typeof s==="string"){s=document.querySelectorAll(s)}this.elements=b(s);this.options=g({},this.options);if(typeof r==="function"){q=r}else{g(this.options,r)}if(q){this.on("always",q)}this.getImages();if(d){this.jqDeferred=new d.Deferred()}var t=this;setTimeout(function(){t.check()})}m.prototype=new n();m.prototype.options={};m.prototype.getImages=function(){this.images=[];for(var t=0,q=this.elements.length;t<q;t++){var u=this.elements[t];if(u.nodeName==="IMG"){this.addImage(u)}var w=u.querySelectorAll("img");for(var s=0,v=w.length;s<v;s++){var r=w[s];this.addImage(r)}}};m.prototype.addImage=function(q){var r=new p(q);this.images.push(r)};m.prototype.check=function(){var v=this;var r=0;var t=this.images.length;this.hasAnyBroken=false;if(!t){this.complete();return}function s(x,w){if(v.options.debug&&a){c.log("confirm",x,w)}v.progress(x);r++;if(r===t){v.complete()}return true}for(var q=0;q<t;q++){var u=this.images[q];u.on("confirm",s);u.check()}};m.prototype.progress=function(q){this.hasAnyBroken=this.hasAnyBroken||!q.isLoaded;var r=this;setTimeout(function(){r.emit("progress",r,q);if(r.jqDeferred){r.jqDeferred.notify(r,q)}})};m.prototype.complete=function(){var q=this.hasAnyBroken?"fail":"done";this.isComplete=true;var r=this;setTimeout(function(){r.emit(q,r);r.emit("always",r);if(r.jqDeferred){var s=r.hasAnyBroken?"reject":"resolve";r.jqDeferred[s](r)}})};if(d){d.fn.imagesLoaded=function(r,s){var q=new m(this,r,s);return q.jqDeferred.promise(d(this))}}function p(q){this.img=q}p.prototype=new n();p.prototype.check=function(){var q=k[this.img.src]||new o(this.img.src);if(q.isConfirmed){this.confirm(q.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var r=this;q.on("confirm",function(s,t){r.confirm(s.isLoaded,t);return true});q.check()};p.prototype.confirm=function(q,r){this.isLoaded=q;this.emit("confirm",this,r)};var k={};function o(q){this.src=q;k[q]=this}o.prototype=new n();o.prototype.check=function(){if(this.isChecked){return}var q=new Image();l.bind(q,"load",this);l.bind(q,"error",this);q.src=this.src;this.isChecked=true};o.prototype.handleEvent=function(q){var r="on"+q.type;if(this[r]){this[r](q)}};o.prototype.onload=function(q){this.confirm(true,"onload");this.unbindProxyEvents(q)};o.prototype.onerror=function(q){this.confirm(false,"onerror");this.unbindProxyEvents(q)};o.prototype.confirm=function(q,r){this.isConfirmed=true;this.isLoaded=q;this.emit("confirm",this,r)};o.prototype.unbindProxyEvents=function(q){l.unbind(q.target,"load",this);l.unbind(q.target,"error",this)};return m}f.imagesLoaded=h(f.EventEmitter,f.eventie)})(window);(function(a,b){a.soysauce=a.soysauce||{};soysauce.widgets=new Array();soysauce.vars={idCount:0,degradeAll:(/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747|SCH-I535/.test(navigator.userAgent))?true:false,degrade:(/Android ([12]|4\.0)|Opera|SAMSUNG-SGH-I747/.test(navigator.userAgent)&&!/SCH-R530U/.test(navigator.userAgent))?true:false,degrade2:(/SCH-I535/.test(navigator.userAgent))?true:false,lastResizeTime:0,lastResizeTimerID:0,fastclick:[],ajaxQueue:[]};soysauce.getOptions=function(c){if(!b(c).attr("data-ss-options")){return false}return b(c).attr("data-ss-options").split(" ")};soysauce.getPrefix=function(){if(navigator.userAgent.match(/webkit/i)!==null){return"-webkit-"}else{if(navigator.userAgent.match(/windows\sphone|msie/i)!==null){return"-ms-"}else{if(navigator.userAgent.match(/^mozilla/i)!==null){return"-moz-"}else{if(navigator.userAgent.match(/opera/i)!==null){return"-o-"}}}}return""};soysauce.stifle=function(f,c){if(!f){return false}try{f.stopImmediatePropagation();if(f.gesture){f.gesture.stopPropagation()}}catch(d){console.log(f);console.warn("Soysauce: Error occurred calling soysauce.stifle() "+d.message);f.stopPropagation();f.propagationStopped=true}if(c){return false}f.preventDefault();if(f.gesture){f.gesture.preventDefault()}};soysauce.fetch=function(c){var e,d;if(!c){return false}if(typeof(c)==="object"){c=parseInt(b(c).attr("data-ss-id"),10)}if(typeof(c)==="string"){var f=parseInt(b(c).attr("data-ss-id"),10);if(isNaN(f)){f=parseInt(c,10)}c=f}if(c===+c&&c===(c|0)){e="[data-ss-id='"+c+"']"}else{e=c}soysauce.widgets.forEach(function(g){if(!g){return}if(g.id===c){d=g}});if(!d){return false}else{return d}};soysauce.getCoords=function(c){if(!c){return}if(c.originalEvent!==undefined){c=c.originalEvent}if(c.touches&&c.touches.length===1){return{x:c.touches[0].clientX,y:c.touches[0].clientY}}else{if(c.touches&&c.touches.length===2){return{x:c.touches[0].clientX,y:c.touches[0].clientY,x2:c.touches[1].clientX,y2:c.touches[1].clientY}}else{if(c.changedTouches&&c.changedTouches.length===1){return{x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY}}else{if(c.changedTouches&&c.changedTouches.length===2){return{x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY,x2:c.changedTouches[1].clientX,y2:c.changedTouches[1].clientY}}else{if(c.clientX!==undefined){return{x:c.clientX,y:c.clientY}}}}}}};soysauce.getArrayFromMatrix=function(c){return c.substr(7,c.length-8).split(", ")};soysauce.browser={pageLoad:new Date().getTime(),supportsSVG:(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))?true:false,supportsLocalStorage:function(){try{if(localStorage){localStorage.setItem("test",1);localStorage.removeItem("test");return true}else{return false}}catch(c){return false}}(),supportsSessionStorage:function(){try{if(sessionStorage){sessionStorage.setItem("test",1);sessionStorage.removeItem("test");return true}else{return false}}catch(c){return false}}(),getOrientation:function(){return(a.orientation!==0)?"landscape":"portrait"}};soysauce.browserInfo=soysauce.browser;soysauce.scrollTop=function(){a.setTimeout(function(){a.scrollTo(0,1)},0)};b(a).load(function(){var d=soysauce.fetch("[data-ss-widget='lazyloader'][data-ss-options*='cache']");var c=b("body").attr("data-ss-scrolltop")!="false";if(!c||d&&d.isCached){return}if(!b(this).scrollTop()){soysauce.scrollTop()}})})(window,jQuery,null);soysauce.ajax=function(b,h,d){var a=false;var g=true;if(soysauce.browser.supportsSessionStorage&&sessionStorage[b]){try{a=JSON.parse(sessionStorage[b]);if(!d){if(typeof(h)==="function"){return h(a,"cached")}else{return a}}}catch(c){}}var f=jQuery.ajax({url:b,async:(!h)?false:true}).always(function(l,j,k){try{var n=JSON.stringify(l);a=JSON.parse(n);sessionStorage.setItem(b,n)}catch(m){if(m.code===DOMException.QUOTA_EXCEEDED_ERR){console.warn("Soysauce: sessionStorage is full.")}else{console.error("error message: "+m.message);console.warn("Soysauce: error fetching url '"+b+"'. Data returned needs to be JSON.");a=false}}if(typeof(h)==="function"){return h(a,j)}});soysauce.vars.ajaxQueue.push(f);return a};(function(b,c,a){a.destroy=function(d,h){try{var f=a.fetch(d);var j=f.widget;j.find("[data-ss-widget][data-ss-id]").each(function(){a.destroy(this)});j.off("*");j.hammer().off("*");j.empty();j.off();j.hammer().off();if(h){j.remove()}delete a.widgets[f.id-1];return true}catch(g){console.warn("Soysauce: could not destroy widget with id '"+f.id+"'. Possible memory leaks. Message: "+g.message)}return false}})(window,jQuery,soysauce,null);soysauce.freezeChildren=function(a){var b=jQuery("[data-ss-id='"+a+"']").find("[data-ss-widget]");b.each(function(c,e){var d=jQuery(e).attr("data-ss-id");soysauce.freeze(d,false)})};soysauce.freeze=function(b,a){if(typeof(b)==="object"){b=b.id||parseInt(jQuery(b).attr("data-ss-id"),10)}a=(!a)?true:false;soysauce.fetch(b).handleFreeze();if(a){soysauce.freezeChildren(b)}};soysauce.unfreeze=function(a){if(typeof(a)==="object"){a=a.id||parseInt($(a).attr("data-ss-id"),10)}var b=jQuery("[data-ss-id='"+a+"']").find("[data-ss-widget]");soysauce.fetch(a).handleUnfreeze();b.each(function(c,e){var d=jQuery(e).attr("data-ss-id");soysauce.fetch(d).handleUnfreeze()})};soysauce.freezeAll=function(){try{soysauce.widgets.forEach(function(b){b.handleFreeze()})}catch(a){console.warn("Soysauce: Could not freeze all widgets. || Error Message: ",a.message);return false}return true};soysauce.unfreezeAll=function(){try{soysauce.widgets.forEach(function(b){b.handleUnfreeze()})}catch(a){console.warn("Soysauce: Could not unfreeze all widgets. || Error Message: ",a.message);return false}return true};(function(b,c,a){a.init=function(d,f){var h;var g="";var e=false;g=g.concat("[data-ss-widget='toggler'] > [data-ss-component='button']",", [data-ss-component='button'][data-ss-toggler-id]",", [data-ss-widget='carousel'] [data-ss-component='button']",", [data-ss-widget='carousel'] [data-ss-component='dots']",", [data-ss-utility='overlay'] [data-ss-component='close']");c(g).each(function(){try{a.vars.fastclick.push(FastClick.attach(this))}catch(j){console.warn("Soysauce: Could not attach Fastclick listener on soysauce component. "+j.message)}});if(!d){h=c("[data-ss-widget]:not([data-ss-id]), [data-ss-component='button'][data-ss-toggler-id]")}else{h=c(d)}if((!c(d)&&!h)||c(d).attr("data-ss-id")!==undefined){return e}h.each(function(){var m=c(this);var k=c(this).attr("data-ss-widget");var l;var j=false;if(!k&&m.attr("data-ss-toggler-id")!==undefined){k="toggler";j=true}if(!f&&/manual/.test(m.attr("data-ss-init"))){return}m.attr("data-ss-id",++a.vars.idCount);switch(k){case"toggler":l=a.togglers.init(this,j);break;case"carousel":l=a.carousels.init(this);break;case"lazyloader":l=a.lazyloader.init(this);break;case"autofill-zip":console.warn("Soysauce: autofill-zip is now deprecated. Please set data-ss-widget to 'geocoder'");case"geocoder":l=a.geocoder.init(this);break;case"autodetect-cc":l=a.autodetectCC.init(this);break;case"autosuggest":l=a.autosuggest.init(this);break;case"input-clear":l=a.inputClear.init(this);break}if(l!==undefined){l.type=k;l.id=a.vars.idCount;a.widgets.push(l);e=true;if(m.attr("data-ss-defer")!==undefined){l.defer=true}else{m.imagesLoaded(function(){l.initialized=true;m.trigger("SSWidgetReady")})}}else{m.removeAttr("data-ss-id");--a.vars.idCount}});return e};c(document).ready(function(){a.init();if(a.vars.degradeAll){c("body").attr("data-ss-degrade","true")}a.widgets.forEach(function(f){if(!f.defer){return}var e=0;var g=f.widget.find("[data-ss-widget]");g.each(function(){var h=a.fetch(this);if(h.initialized){if(++e===g.length){c(f.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer");return}}else{h.widget.on("SSWidgetReady",function(){if(++e===g.length){c(f.widget).trigger("SSWidgetReady").removeAttr("data-ss-defer")}})}})});try{Hammer.gestures.Swipe.defaults.swipe_velocity=0.6}catch(d){console.warn("Soysauce: Error setting options with HammerJS");console.error(d)}c(b).trigger("SSReady")})})(window,jQuery,soysauce,null);soysauce.lateload=function(a){function b(c){var d=jQuery(c);var e=d.attr("data-ss-ll-src");if(e){d.attr("src",e).removeAttr("data-ss-ll-src");return true}return false}if(a){return b(a)}else{jQuery(document).on("DOMContentLoaded",function(){jQuery("[data-ss-ll-src][data-ss-options='dom']").each(function(c,d){b(d)})});jQuery(window).on("load",function(){if(!jQuery("[data-ss-ll-src][data-ss-options='load']")){return}jQuery("[data-ss-ll-src][data-ss-options='load']").each(function(c,d){b(d)})})}};soysauce.lateload();soysauce.overlay=(function(d){var b="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var c=d("body");var e=d("meta[name='viewport']");function a(){var f=this;this.overlay;this.content;this.close;this.hiddenItems=null;this.isOn=false;this.startingOrientation="";d(document).ready(function(){f.init()})}a.prototype.init=function(f){var g=this;var h;if(d("[data-ss-utility='overlay']").length){h=d("[data-ss-utility='overlay']")}else{h=document.createElement("div");h.setAttribute("data-ss-utility","overlay");if(f&&d(f).length){d(f).prepend(h)}else{if(f){console.warn("Soysauce: The selector provided to overlay.init was invalid or did not match any elements. The overlay will be attached to the body element.")}document.body.appendChild(h)}}this.overlay=d("[data-ss-utility='overlay']");this.overlay.attr("data-ss-state","inactive");if(!this.overlay.find("[data-ss-component='close']").length){this.overlay.append("<div data-ss-component='close'>tap to close</div>")}this.close=this.overlay.find("[data-ss-component='close']");if(!this.overlay.find("[data-ss-component='content']").length){this.overlay.append("<div data-ss-component='content'></div>")}this.content=this.overlay.find("[data-ss-component='content']");this.close.on("click",function(){g.off()});return true};a.prototype.on=function(f,h,j){var g=this;if(this.isOn){return}if(typeof(f)==="string"){this.overlay.appendTo(f)}this.overlay.show();if(j){this.close.show()}window.setTimeout(function(){if(h){try{JSON.stringify(h);g.overlay.css(h)}catch(k){console.warn("Soysauce: Could not attach css; need to pass JSON css object")}}g.overlay.attr("data-ss-state","active");g.isOn=true},0)};a.prototype.off=function(){if(!this.isOn){return}this.isOn=false;this.overlay.attr("data-ss-state","inactive").removeAttr("style").hide();this.overlay.appendTo("body");this.content.find("[data-ss-widget]").each(function(){soysauce.destroy(this)});this.content.empty();c.css({overflow:"",height:""});if(this.hiddenItems){this.hiddenItems.show();this.hiddenItems=null}if(this.startingOrientation!==soysauce.browser.getOrientation()){d(window).trigger(("onorientationchange" in window)&&!/android/i.test(navigator.userAgent)?"orientationchange":"resize")}};a.prototype.toggle=function(){if(this.isOn){this.off()}else{this.on()}};a.prototype.injectCarousel=function(m,l){var h=m.items.clone();var k;var g=this;var n=true;var j="";var f=m.widget.attr("data-ss-zoom-close-text");this.on(null,l,n);if(m.infinite){h=h.slice(1,m.numChildren-1)}else{j+="finite"}h.removeAttr("data-ss-state").removeAttr("style");this.content.wrapInner("<div data-ss-widget='carousel' data-ss-options='overlay "+j+"' data-ss-index="+m.index+"/>");k=this.content.find("[data-ss-widget='carousel']");k.append(h);if(f){this.overlay.find("[data-ss-component='close']").text(f)}this.startingOrientation=soysauce.browser.getOrientation();this.overlay.one(b,function(){k.one("SSWidgetReady",function(){c.css({overflow:"hidden",height:"100%"});g.hiddenItems=c.find("> *:not([data-ss-utility]):not(#ios7fix)");g.hiddenItems.hide()});soysauce.init(k[0])})};a.prototype.hideAssets=function(){this.close.css("opacity","0")};a.prototype.showAssets=function(){this.close.css("opacity","1")};return new a()})(jQuery);(function(b,d,a){var c=("onorientationchange" in b)&&!/android/i.test(navigator.userAgent)?"orientationchange":"resize";d(b).on(c,function(f){if(a.vars.lastResizeID){b.clearTimeout(a.vars.lastResizeID)}a.vars.lastResizeID=b.setTimeout(function(){a.vars.lastResizeTime=f.timeStamp;a.widgets.forEach(function(e){if(!e.handleResize){return}e.handleResize();if(/carousel/i.test(e.type)){if(e.itemWidth){e.widget.trigger("SSWidgetResized")}}else{e.widget.trigger("SSWidgetResized")}})},30)})})(window,jQuery,soysauce,null);soysauce.autodetectCC=(function(c){function a(e){var g=soysauce.getOptions(e);var f=this;this.widget=c(this);this.input=c(e);this.prediction;this.result;this.format=false;this.valid=false;this.fieldClear=false;if(g){g.forEach(function(h){switch(h){case"format":f.format=(soysauce.vars.degrade2)?false:true;break;case"field-clear":f.fieldClear=true;break}})}if(this.format){this.input.attr("maxlength","19")}else{this.input.attr("maxlength","16")}if(this.format&&soysauce.vars.degrade){this.input.on("keydown",function(j){var h=j.keyCode?j.keyCode:j.which;if(h!==8&&h!==46&&h!==91&&h!==17&&h!==189){soysauce.stifle(j);f.input.val(this.value+String.fromCharCode(j.keyCode))}})}if(this.fieldClear){soysauce.inputClear.init(e)}this.input.on("keyup change",function(l){var k=l.target.value.replace(/[-\s]+/g,"");var j=l.keyCode?l.keyCode:l.which;var h;if(k.length){if(k.match(/^4/)){f.prediction="visa"}else{if(k.match(/^5/)){f.prediction="mastercard"}else{if(k.match(/^6/)){f.prediction="discover"}else{if(k.match(/^3/)){if(k.length===1){f.prediction="amex dinersclub jcb"}else{if(k.match(/^3(4|7)/)){f.prediction="amex"}else{if(k.match(/^3(0|8)/)){f.prediction="dinersclub"}else{if(k.match(/^35/)){f.prediction="jcb"}}}}}else{f.prediction=null}}}}c(l.target).trigger("SSPrediction")}else{c(l.target).trigger("SSEmpty");f.prediction=null}if(/visa/.test(f.prediction)&&k.length>=13){if(b(k)){f.valid=(/^4[0-9]{12}(?:[0-9]{3})?$/.test(k))?true:false;h="visa"}else{f.valid=false}}if(/mastercard/.test(f.prediction)&&k.length===16){if(b(k)){f.valid=(k.match(/^5[1-5][0-9]{14}$/))?true:false;h="mastercard"}else{f.valid=false}}if(/amex/.test(f.prediction)&&k.length>=15){if(b(k)){f.valid=(k.match(/^3[47][0-9]{13}$/))?true:false;h="amex"}else{f.valid=false}}if(/dinersclub/.test(f.prediction)&&k.length>=14){if(b(k)){f.valid=(k.match(/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/))?true:false;h="dinersclub"}else{f.valid=false}}if(/discover/.test(f.prediction)&&k.length===16){if(b(k)){f.valid=(k.match(/^6(?:011|5[0-9]{2})[0-9]{12}$/))?true:false;h="discover"}else{f.valid=false}}if(/jcb/.test(f.prediction)&&k.length===16){if(b(k)){f.valid=(k.match(/^(?:2131|1800|35\d{3})\d{11}$/))?true:false;h="jcb"}else{f.valid=false}}if(f.valid&&h){f.result=h;c(l.target).trigger("SSResult")}else{f.result=null;if(!f.prediction&&k.length===16||/visa/.test(f.prediction)&&k.length===13||/visa|mastercard|discover|dinersclub|jcb/.test(f.prediction)&&k.length===16||/amex/.test(f.prediction)&&k.length===15){c(l.target).trigger("SSResult")}}if(f.format&&k.length>3&&j!==8&&j!==46&&j!==91&&j!==17&&j!==189){f.formatInput(l)}})}a.prototype.formatInput=function(j){var k=this.input.val().replace(/[\s]+/g,"");var f=(/^3[47]/.test(k.replace(/[-\s]+/g,"")))?true:false;var h=(/^3(?:0[0-5]|[68][0-9])/.test(k.replace(/[-\s]+/g,""))&&!f)?true:false;if(soysauce.vars.degrade){d(this.input[0])}if(f||h){if(k[4]!==undefined&&k[4]!=="-"){k=g("-",4,k);this.input.val(k)}if(k[11]!==undefined&&k[11]!=="-"){k=g("-",11,k);this.input.val(k)}}else{if(k[4]!==undefined&&k[4]!=="-"){k=g("-",4,k);this.input.val(k)}if(k[9]!==undefined&&k[9]!=="-"){k=g("-",9,k);this.input.val(k)}if(k[14]!==undefined&&k[14]!=="-"){k=g("-",14,k);this.input.val(k)}}function g(m,l,e){if(l>0){return e.substring(0,l)+m+e.substring(l,e.length)}else{return m+e}}};function d(e){var f=e.length;e.setSelectionRange(19,19)}function b(g,f,k,j,h){for(j=+g[f=g.length-1],h=0;f--;){k=+g[f],j+=++h%2?2*k%10+(k>4):k}return !(j%10)}return{init:function(e){return new a(e)}}})(jQuery);soysauce.autosuggest=(function(a){function b(c){var e=soysauce.getOptions(c);var d=this;this.widget=a(c);this.input=a(c);if(e){e.forEach(function(g){switch(g){case"option1":break}})}var f={url:undefined,data:undefined,minCharacters:1,maxResults:10,wildCard:"",caseSensitive:false,notCharacter:"!",maxHeight:350,highlightMatches:true,onSelect:undefined,width:undefined,property:"text"};this.acSettings=f;this.obj=a(c);this.wildCardPatt=new RegExp(d.regexEscape(this.acSettings.wildCard||""),"g");this.results=a("<ul />");this.currentSelection=undefined;this.pageX=undefined;this.pageY=undefined;this.getJSONTimeout=0;a(this.results).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role","listbox").css({xtop:(this.obj.position().top+this.obj.outerHeight())+"px",xleft:this.obj.position().left+"px",width:this.acSettings.width||(this.obj.outerWidth()+"px"),"z-index":1000000,position:"absolute","background-color":"black"}).hide();this.obj.after(this.results).keyup(function(g){switch(g.keyCode){case 13:a(d.currentSelection).trigger("click");return false;case 40:if(typeof d.currentSelection==="undefined"){d.currentSelection=a("li:first",d.results).get(0)}else{d.currentSelection=a(d.currentSelection).next().get(0)}d.setHoverClass(d.currentSelection);if(d.currentSelection){a(d.results).scrollTop(d.currentSelection.offsetTop)}return false;case 38:if(typeof d.currentSelection==="undefined"){d.currentSelection=a("li:last",d.results).get(0)}else{d.currentSelection=a(d.currentSelection).prev().get(0)}d.setHoverClass(d.currentSelection);if(d.currentSelection){a(d.results).scrollTop(d.currentSelection.offsetTop)}return false;default:d.runSuggest.apply(this,[g,d])}}).keydown(function(g){if((g.keyCode===9||g.keyCode===13)&&d.currentSelection){a(d.currentSelection).trigger("click");return true}}).blur(function(h){var g=a(d.results).offset();g.bottom=g.top+a(d.results).height();g.right=g.left+a(d.results).width();if(pageY<g.top||pageY>g.bottom||pageX<g.left||pageX>g.right){a(d.results).hide()}}).focus(function(g){a(this.results).css({top:(d.obj.position().top+d.obj.outerHeight())+"px",left:d.obj.position().left+"px"});if(a("li",d.results).length>0){a(d.results).show()}}).attr("autocomplete","off");a(window).mousemove(function(g){this.pageX=g.pageX;this.pageY=g.pageY});this.acSettings.notCharacter=d.regexEscape(this.acSettings.notCharacter||"");if(this.widget.attr("data-ss-suggest-json-file")){a.ajax({url:this.widget.attr("data-ss-suggest-json-file"),dataType:"json",async:false,success:function(g){d.acSettings.data=g}})}if(this.acSettings.data&&typeof this.acSettings.data==="string"){this.acSettings.data=a.parseJSON(this.acSettings.data)}a(this.obj).trigger("SSLoaded")}b.prototype.handleResize=function(){};b.prototype.regexEscape=function(c,g){var d=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];if(g){for(var f=0;f<d.length;f++){if(d[f]===g){d.splice(f,1)}}}var e=new RegExp("(\\"+d.join("|\\")+")","g");return c.replace(e,"\\$1")};b.prototype.selectResultItem=function(c){this.obj.val(c[this.acSettings.property]);this.widget.trigger("SSAutoSuggested",{suggestion:c});a(this.results).html("").hide();if(typeof this.acSettings.onSelect==="function"){this.acSettings.onSelect(c)}};b.prototype.setHoverClass=function(c){a("li a",this.results).removeClass("ui-state-hover");if(c){a("a",c).addClass("ui-state-hover")}this.currentSelection=c};b.prototype.buildResults=function(c,d){d="("+d+")";var h=this;var f=true,e,l=0,g=this.acSettings.caseSensitive?new RegExp(d,"g"):new RegExp(d,"ig");a(this.results).html("").hide();for(e=0;e<c.length;e+=1){var k=a("<li />"),j=c[e][this.acSettings.property];if(this.acSettings.highlightMatches===true){j=j.replace(g,"<strong>$1</strong>")}a(k).append('<a class="ui-corner-all">'+j+"</a>");if(typeof c[e].image==="string"){a(">a",k).prepend('<img src="'+c[e].image+'" />')}if(typeof c[e].extra==="string"){a(">a",k).append("<small>"+c[e].extra+"</small>")}a(k).addClass("ui-menu-item").addClass((f)?"odd":"even").attr("role","menuitem").click((function(m){return function(){h.selectResultItem(c[m])}})(e)).mouseover((function(m){return function(){h.setHoverClass(m)}})(k));a(this.results).append(k);f=!f;l+=1;if(typeof this.acSettings.maxResults==="number"&&l>=this.acSettings.maxResults){break}}if(a("li",this.results).length>0){this.currentSelection=undefined;a(this.results).show().css("height","auto");if(a(this.results).height()>this.acSettings.maxHeight){a(this.results).css({overflow:"auto",height:this.acSettings.maxHeight+"px"})}}};b.prototype.runSuggest=function(f,c){var d=function(k){if(this.value.length<c.acSettings.minCharacters){c.clearAndHideResults();return false}var l=[],h=(!c.acSettings.wildCard)?c.regexEscape(this.value):c.regexEscape(this.value,c.acSettings.wildCard).replace(wildCardPatt,".*"),e=true,m,j;if(c.acSettings.notCharacter&&h.indexOf(c.acSettings.notCharacter)===0){h=h.substr(c.acSettings.notCharacter.length,h.length);if(h.length>0){e=false}}h=h||".*";h=c.acSettings.wildCard?"^"+h:h;m=c.acSettings.caseSensitive?new RegExp(h):new RegExp(h,"i");for(j=0;j<k.length;j+=1){if(m.test(k[j][c.acSettings.property])===e){l.push(k[j])}}c.buildResults(l,h)};if(c.acSettings.data&&c.acSettings.data.length){d.apply(this,[c.acSettings.data,c])}else{if(c.acSettings.url&&typeof c.acSettings.url==="string"){var g=this.value;if(g.length<c.acSettings.minCharacters){c.clearAndHideResults();return false}a(c.results).html('<li class="ui-menu-item ajaxSearching"><a class="ui-corner-all">Searching...</a></li>').show().css("height","auto");c.getJSONTimeout=window.clearTimeout(c.getJSONTimeout);c.getJSONTimeout=window.setTimeout(function(){a.getJSON(c.acSettings.url,{search:g},function(e){if(e){c.buildResults(e,g)}else{c.clearAndHideResults()}})},500)}}};b.prototype.clearAndHideResults=function(){a(this.results).html("").hide()};return{init:function(c){return new b(c)}}})(jQuery);soysauce.carousels=(function(f){var e=5000;var k=20;var l="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";var a=soysauce.getPrefix();var c=60;var d=0.8;function j(p){var u;var t=this;var m;var r="";var o;var n;this.widget=f(p);this.index=0;this.maxIndex;this.container;this.items;this.currentItem;this.itemPadding;this.dots;this.numChildren=0;this.widgetWidth=0;this.widgetHeight=0;this.itemWidth=0;this.interruptedOffset=0;this.offset=0;this.ready=false;this.interrupted=false;this.lockScroll=false;this.nextBtn;this.prevBtn;this.freeze=false;this.jumping=false;this.lastTransitionEnd=0;this.sendClick=false;this.resizeID=0;this.infinite=true;this.autoscroll=false;this.autoscrollID;this.autoscrollInterval;this.autoscrollRestartID;this.infiniteID;this.forward;this.lastSlideTime;this.cloneDepth=0;this.looping=false;this.rewindCoord=0;this.peek=false;this.peekWidth=0;this.peekAlign;this.responsivePeek=false;this.swipe=true;this.swiping=false;this.zoom=false;this.containerZoom=false;this.zoomIcon;this.overlay=false;this.isZoomed=false;this.zoomElement=null;this.zoomElementCenterX=0;this.zoomElementCenterY=0;this.zoomElementWidth=0;this.zoomElementHeight=0;this.zoomElementOffset=null;this.zoomTranslateX=0;this.zoomTranslateY=0;this.zoomTranslateXStart=0;this.zoomTranslateYStart=0;this.zoomTranslateMinX=0;this.zoomTranslateMinY=0;this.zoomTranslateMaxX=0;this.zoomTranslateMaxY=0;this.zoomScale=1;this.zoomScaleStart=1;this.zoomScalePrev=1;this.pinchEventsReady=false;this.lastZoomTap=0;this.zoomLoader;this.multi=false;this.multiVars={numItems:2,stepSize:1,minWidth:0,even:false};this.autoheight=false;this.fade=false;if(this.widget.attr("data-ss-single-options")&&this.widget.find("[data-ss-component='item']").length===1){u=this.widget.attr("data-ss-single-options").split(" ");this.widget.attr("data-ss-single-item","true")}else{u=soysauce.getOptions(p)}this.options=u;if(u){u.forEach(function(v){switch(v){case"peek":t.peek=true;break;case"finite":t.infinite=false;break;case"autoscroll":t.autoscroll=true;break;case"noswipe":t.swipe=false;break;case"zoom":t.zoom=true;break;case"containerZoom":t.zoom=true;t.containerZoom=true;break;case"multi":t.multi=true;break;case"autoheight":t.autoheight=true;break;case"fade":t.fade=true;break;case"overlay":t.overlay=true;break}})}if(this.multi){this.infinite=false}this.widgetWidth=this.widget.outerWidth();this.widget.wrapInner("<div data-ss-component='container' />");this.widget.wrapInner("<div data-ss-component='container_wrapper' />");this.container=this.widget.find("[data-ss-component='container']");m=this.widget.find("[data-ss-component='container_wrapper']");if(this.infinite){m.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='enabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}else{m.after("<div data-ss-component='button' data-ss-button-type='prev' data-ss-state='disabled'></div><div data-ss-component='button' data-ss-button-type='next'></div>")}m.after("<div data-ss-component='dots'></div>");this.dots=this.widget.find("[data-ss-component='dots']");this.nextBtn=m.find("~ [data-ss-button-type='next']");this.prevBtn=m.find("~ [data-ss-button-type='prev']");m.find("~ [data-ss-button-type='prev']").click(function(v){soysauce.stifle(v);if(t.ready&&!t.interrupted&&!t.freeze){t.slideBackward()}});m.find("~ [data-ss-button-type='next']").click(function(v){soysauce.stifle(v);if(t.ready&&!t.interrupted&&!t.freeze){t.slideForward()}});this.maxIndex=this.widget.find("[data-ss-component='item']").length;if(this.multi){this.multiVars.numItems=parseInt(this.widget.attr("data-ss-multi-set"),10)||2;this.multiVars.minWidth=parseInt(this.widget.attr("data-ss-multi-min-width"),10)||0;this.multiVars.stepSize=parseInt(this.widget.attr("data-ss-step-size"),10)||this.multiVars.numItems;this.maxIndex=Math.ceil(this.maxIndex/this.multiVars.stepSize)}if(this.infinite){if(this.multi){console.warn("Soysauce: 'multi' option with infinite scrolling not yet supported. Please add 'finite' option.");b(this,1)}else{b(this,1)}this.lastSlideTime=new Date().getTime()}this.items=this.container.find("> [data-ss-component='item']");this.itemPadding=parseInt(this.items.first().css("padding-left"),10)+parseInt(this.items.first().css("padding-right"),10);if(this.multi){this.multiVars.even=(this.items.length%this.multiVars.numItems===0)?true:false}if(!this.items.length){console.warn("Soysauce: Carousel cannot be instantiated; no items found.");return}this.numChildren=this.items.length;if(!this.infinite){m.find("~ [data-ss-button-type='next']").attr("data-ss-state",(this.numChildren>1)?"enabled":"disabled")}else{m.find("~ [data-ss-button-type='next']").attr("data-ss-state","enabled")}o=(this.infinite)?this.numChildren-2:this.numChildren;o=(this.multi)?this.maxIndex:o;for(i=0;i<o;i++){r=r.concat("<div data-ss-component='dot'></div>")}this.dots.html(r);this.dots=this.dots.find("div");this.dots.attr("data-ss-state","inactive");this.dots.on("click",function(x){var w=parseInt(soysauce.getArrayFromMatrix(t.container.css(a+"transform"))[4],10);var v=0;if(w===t.offset){t.ready=true}if(!t.ready||t.interrupted||t.freeze){return}soysauce.stifle(x);v=t.dots.index(this);if(t.infinite){v+=1}t.jumpTo(v)});if(this.peek){this.peekAlign=this.widget.attr("data-ss-peek-align")||"center";if(this.widget.attr("data-ss-responsive-peek")){this.responsivePeek=true;switch(soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||k;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||k;break}}else{this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width"),10)||k}if(this.peekWidth%2){this.widget.attr("data-ss-peek-width",++this.peekWidth)}}this.index=parseInt(this.widget.attr("data-ss-index"),10)||0;this.items.attr("data-ss-state","inactive");if(this.infinite){if(!this.index){this.index++}else{if(this.index>this.maxIndex){this.index=this.maxIndex}}f(this.items[this.index]).attr("data-ss-state","active")}else{if(this.multi){var q=f(this.items.slice(0,this.multiVars.numItems));q.attr("data-ss-state","active")}else{f(this.items[this.index]).attr("data-ss-state","active")}}n=this.infinite?this.index-1:this.index;this.dots[n].setAttribute("data-ss-state","active");this.container.imagesLoaded(function(v){var y=t.items.first();var x=parseInt(y.css("margin-left"),10)+parseInt(y.css("margin-right"),10);var w=t.widgetWidth;if(t.peek){w-=t.peekWidth*2}if(t.multi){if(t.multiVars.minWidth>0){t.multiVars.numItems=Math.floor(w/t.multiVars.minWidth)}t.itemWidth=w/t.multiVars.numItems}else{t.itemWidth=w}f(window).load(function(){t.handleResize()});if(t.peek){switch(t.peekAlign){case"center":t.offset+=t.peekWidth;break;case"left":break;case"right":t.offset+=(t.peekWidth*2);break}}if(!t.fade){t.container.width((t.itemWidth+x)*t.numChildren);t.items.css("width",t.itemWidth+"px")}t.offset-=(t.itemWidth*t.index);t.container.attr("data-ss-state","notransition");g(t.container[0],t.offset);t.widgetHeight=t.widget.outerHeight(true);if(t.overlay||t.zoomContainer){t.setZoomCenterPoint()}});if(/ipod|iphone|ipad|android/i.test(navigator.userAgent)){this.container.hammer().on("tap",function(v){if(t.freeze||t.swiping||t.lockScroll||v.gesture&&v.gesture.distance>0){soysauce.stifle(v);return false}if(t.isZoomed){return}t.widget.trigger("SSClick");f(v.target).trigger("click")})}else{this.container.hammer().on("release click",function(v){if(t.freeze){return}if(v.type==="click"){if(t.sendClick){return}else{t.widget.trigger("SSClick");soysauce.stifle(v);return false}}if(v.type==="release"){if(v.gesture.distance===0&&!t.swiping&&!t.isZoomed&&!t.lockScroll){t.sendClick=true;t.widget.trigger("SSClick")}else{t.sendClick=false}}})}if(this.swipe){this.container.hammer().on("touch release drag swipe",function(v){if(t.freeze){return}t.handleSwipe(v)})}if(this.zoom){m.after("<div data-ss-component='zoom_icon' data-ss-state='out'></div><div data-ss-component='zoom_loader'><div data-ss-component='ring_loader'></div><div data-ss-component='loading_text'><span>loading</span></div></div>");this.zoomIcon=m.find("~ [data-ss-component='zoom_icon']");this.zoomLoader=m.find("~ [data-ss-component='zoom_loader']");if(this.containerZoom){this.zoomIcon.hammer().on("tap",function(w){var v=true;t.handleContainerZoom(w,v)});this.container.hammer().on("tap drag",function(v){if(t.lockScroll){return}if(v.type==="drag"){if(t.isZoomed){soysauce.stifle(v)}else{return}}t.handleContainerZoom(v)})}else{this.container.hammer().on("tap",function(v){t.zoomIn(v)});this.zoomIcon.hammer().on("tap",function(v){t.zoomIn(v)})}}this.currentItem=f(this.items.get(t.index));if(this.overlay){this.zoomElement=this.currentItem;this.container.hammer().on("pinch doubletap drag",function(v){if(!/pinch|doubletap|drag/.test(v.type)){return}t.handleZoom(v)})}this.container.on(l,function(v){t.setTransitionedStates(v)});if(this.autoscroll){this.autoscrollOn()}if(this.autoheight){var s=f(this.items[this.index]).outerHeight(true);this.widget.css("min-height",s)}this.widget.one("SSWidgetReady",function(){t.widget.attr("data-ss-state","ready");t.ready=true;window.setTimeout(function(){t.container.attr("data-ss-state","ready")},0);if(t.autoheight){var v=f(t.items[t.index]).outerHeight(true);t.widget.css("height",v);window.setTimeout(function(){t.widget.css("min-height","0px")},300)}})}j.prototype.handleZoom=function(o){var m=this;if(this.swiping||this.freeze){return}soysauce.stifle(o);if(o.type==="doubletap"){if(o.timeStamp-this.lastZoomTap<500){return}this.zoomElement=this.currentItem;this.lastZoomTap=o.timeStamp;this.handleFreeze();this.zoomScalePrev=this.zoomScale;if(this.zoomScale<1.5){this.zoomElement.attr("data-ss-state","zooming");this.zoomScale=1.5;this.isZoomed=true}else{if(this.zoomScale<2.5){this.zoomElement.attr("data-ss-state","zooming");this.zoomScale=2.5;this.isZoomed=true}else{this.zoomElement.attr("data-ss-state","active");this.zoomScale=1;this.isZoomed=false}}this.zoomScaleStart=this.zoomScale;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;if(this.zoomScale>1){this.setFocusPoint(o);this.calcTranslateLimits();this.setTranslateLimits()}else{window.setTimeout(function(){m.resetZoomState()},0);return}window.setTimeout(function(){h(m.zoomElement[0],m.zoomScale,m.zoomTranslateX,m.zoomTranslateY);if(m.zoomScale===1){m.handleUnfreeze()}},0)}else{if(o.type==="pinch"){if(!this.pinchEventsReady){this.zoomElement=this.currentItem;this.zoomElement.attr("data-ss-state","zooming");this.zoomScalePrev=this.zoomScale;this.zoomScaleStart=this.zoomScale;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;this.isZoomed=true;this.handleFreeze();this.container.one("touchend",function(){if(m.zoomScale<=1){m.zoomElement.attr("data-ss-state","active")}});this.container.hammer().one("release",function(p){soysauce.stifle(p);m.pinchEventsReady=false;if(m.zoomScale<=1){m.resetZoomState();return}if(m.zoomScale>4){m.zoomScale=4;m.zoomScaleStart=m.zoomScale;return}m.zoomScaleStart=m.zoomScale;h(m.zoomElement[0],m.zoomScale,m.zoomTranslateX,m.zoomTranslateY)});this.pinchEventsReady=true}this.zoomScale=(((o.gesture.scale-1)*d)*this.zoomScaleStart)+this.zoomScaleStart;this.zoomScale=(this.zoomScale<0.3)?0.3:this.zoomScale;if(this.zoomScale>=4){this.zoomScale=4;return}this.setFocusPoint(o);this.calcTranslateLimits();this.setTranslateLimits();this.zoomElement.attr("data-ss-state","zooming");if(this.zoomScale<1){var n=(((o.gesture.scale-1)*d)*this.zoomScaleStart)+this.zoomScaleStart;h(this.zoomElement[0],n,0,0)}else{h(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}}else{if(this.isZoomed){if(!this.panning){this.panning=true;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;this.container.hammer().one("release",function(p){m.panning=false})}this.zoomTranslateX=o.gesture.deltaX+this.zoomTranslateXStart;this.zoomTranslateY=o.gesture.deltaY+this.zoomTranslateYStart;this.setTranslateLimits();h(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}}}};j.prototype.setZoomCenterPoint=function(){this.zoomElementWidth=this.zoomElement.width();this.zoomElementHeight=this.zoomElement.height();this.zoomElementOffset=this.widget.offset();this.zoomElementCenterX=(this.zoomElementWidth/2)+this.zoomElementOffset.left;this.zoomElementCenterY=(this.zoomElementHeight/2)+this.zoomElementOffset.top};j.prototype.setFocusPoint=function(m){this.zoomTranslateX=(this.zoomElementCenterX-m.gesture.center.pageX+this.zoomTranslateXStart+this.peekWidth)*(this.zoomScale/this.zoomScalePrev);this.zoomTranslateY=(this.zoomElementCenterY-m.gesture.center.pageY+this.zoomTranslateYStart)*(this.zoomScale/this.zoomScalePrev)};j.prototype.calcTranslateLimits=function(){var m;if(!this.zoomElementWidth){this.setZoomCenterPoint()}m=(parseInt(this.zoomElement.css("padding-left"),10)+parseInt(this.zoomElement.css("padding-right"),10))||0;this.zoomTranslateMinX=(((this.zoomElementWidth*this.zoomScale)-this.zoomElementWidth)/2)-this.peekWidth-m;this.zoomTranslateMaxX=-this.zoomTranslateMinX;this.zoomTranslateMinY=((this.zoomElementHeight*this.zoomScale)-this.zoomElementHeight)/2;this.zoomTranslateMaxY=-this.zoomTranslateMinY};j.prototype.setTranslateLimits=function(){if(this.zoomTranslateX>this.zoomTranslateMinX){this.zoomTranslateX=this.zoomTranslateMinX}else{if(this.zoomTranslateX<this.zoomTranslateMaxX){this.zoomTranslateX=this.zoomTranslateMaxX}}if(this.zoomTranslateY>this.zoomTranslateMinY){this.zoomTranslateY=this.zoomTranslateMinY}else{if(this.zoomTranslateY<this.zoomTranslateMaxY){this.zoomTranslateY=this.zoomTranslateMaxY}}};j.prototype.zoomIn=function(m){if(this.overlay||this.freeze||this.currentItem.attr("data-ss-no-zoom")==="true"){return}soysauce.stifle(m);soysauce.overlay.injectCarousel(this,{background:"black",opacity:"1"})};j.prototype.handleContainerZoom=function(s,r){var p=this;if(this.freeze){return}if(s.type==="tap"){var o,n,q;if(this.currentItem.attr("data-ss-no-zoom")==="true"){return}o=this.currentItem.find("img[data-ss-zoom-src]");n=o.attr("src")||this.currentItem.find("img").attr("src");q;this.zoomElement=this.currentItem;if(o.length&&!o.data("isLoaded")){o.attr("src",o.attr("data-ss-zoom-src"));this.currentItem.attr("data-ss-state","loading");this.zoomLoader.show()}q=this.zoomElement.imagesLoaded();q.fail(function(){o.attr("src",n)});q.always(function(){o.data("isLoaded",true);p.zoomLoader.hide();p.currentItem.attr("data-ss-state","active");f.proxy(m,p)()});function m(){this.zoomElement.off();this.zoomElement.on(l,function(){if(p.isZoomed){p.zoomElement.attr("data-ss-state","zoomed");p.zoomIcon.attr("data-ss-state","in")}else{p.zoomIcon.attr("data-ss-state","out")}});if(!this.isZoomed){this.disableSwipe();this.zoomScalePrev=this.zoomScale;this.zoomElement.attr("data-ss-state","zooming");this.zoomScale=3;this.isZoomed=true}else{this.enableSwipe();this.zoomElement.attr("data-ss-state","active");this.zoomScale=1;this.isZoomed=false}this.zoomScaleStart=this.zoomScale;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;if(this.isZoomed){this.setZoomCenterPoint();if(!r){this.setFocusPoint(s)}this.calcTranslateLimits();this.setTranslateLimits()}else{window.setTimeout(function(){p.resetZoomState()},0);return}window.setTimeout(function(){h(p.zoomElement[0],p.zoomScale,p.zoomTranslateX,p.zoomTranslateY);if(!p.isZoomed){p.handleUnfreeze()}},0)}}else{if(!this.panning){this.panning=true;this.zoomTranslateXStart=this.zoomTranslateX;this.zoomTranslateYStart=this.zoomTranslateY;this.container.hammer().one("release",function(t){p.panning=false})}this.zoomTranslateX=s.gesture.deltaX+this.zoomTranslateXStart;this.zoomTranslateY=s.gesture.deltaY+this.zoomTranslateYStart;this.setTranslateLimits();h(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)}};j.prototype.resetZoomState=function(){var m=this;var n=(this.currentItem.attr("data-ss-state")==="active")?true:false;this.zoomTranslateX=0;this.zoomTranslateY=0;this.zoomScale=1;this.zoomScaleStart=1;this.zoomScalePrev=1;this.zoomElement=this.currentItem;this.isZoomed=false;this.setZoomCenterPoint();this.handleUnfreeze();h(this.zoomElement[0],this.zoomScale,this.zoomTranslateX,this.zoomTranslateY)};j.prototype.enableSwipe=function(){if(f.inArray("noswipe",this.options)===-1){this.swipe=true}};j.prototype.disableSwipe=function(){this.swipe=false};j.prototype.handleSwipe=function(q){var p=f(q.target).attr("data-ss-component");var m=this;var s=Math.abs(q.gesture.angle);if(m.jumping||m.freeze||m.looping||!m.swipe){return}if(q.type==="swipe"&&q.gesture.eventType==="end"&&!m.ready){m.ready=true;m.interrupted=false;m.swiping=false;m.widget.attr("data-ss-state","ready");m.container.attr("data-ss-state","ready");return}if(m.lockScroll&&q.type==="release"){m.lockScroll=false;m.widget.attr("data-ss-state","ready");m.container.attr("data-ss-state","ready");window.setTimeout(function(){g(m.container[0],m.offset)},0);return}if(m.lockScroll){return}m.lockScroll=s>=60&&s<=120&&!m.swiping?true:false;if(m.lockScroll){return}if(!m.ready&&q.type==="touch"){m.interruptedOffset=(soysauce.vars.degrade)?parseInt(m.container[0].style.left,10):parseInt(soysauce.getArrayFromMatrix(m.container.css(a+"transform"))[4],10);m.interrupted=true;m.looping=false;m.container.attr("data-ss-state","notransition");m.widget.attr("data-ss-state","intransit");g(m.container[0],m.interruptedOffset);return}if(q.gesture.eventType==="end"){var o=(q.gesture.velocityX>=Hammer.gestures.Swipe.defaults.swipe_velocity)?true:false;var n=(o||q.gesture.distance>=c)?true:false;var r=m.peekAlign==="left"?0:m.peekWidth;soysauce.stifle(q);m.ready=true;m.swiping=false;m.widget.attr("data-ss-state","intransit");m.container.attr("data-ss-state","intransit");if(n&&q.gesture.direction==="left"){if(!m.infinite&&((m.index===m.numChildren-1)||(m.multi&&m.index===m.maxIndex-Math.floor(m.multiVars.numItems/m.multiVars.stepSize)))){if(m.multi){if(m.index===m.maxIndex-1){m.gotoPos(m.offset)}else{m.gotoPos(m.index*-m.itemWidth*m.multiVars.stepSize+r);m.widget.trigger("SSSwipe")}}else{m.gotoPos(m.index*-m.itemWidth+r);m.widget.trigger("SSSwipe")}}else{if(soysauce.vars.degrade){m.rewindCoord=parseInt(m.container.css("left"),10)}m.slideForward();m.widget.trigger("SSSwipe")}}else{if(n&&q.gesture.direction==="right"){if(!m.infinite&&m.index===0){m.gotoPos(r)}else{if(soysauce.vars.degrade){m.rewindCoord=parseInt(m.container.css("left"),10)}m.slideBackward();m.widget.trigger("SSSwipe")}}else{g(m.container[0],m.offset)}}}else{if(q.gesture.eventType==="move"){soysauce.stifle(q);m.swiping=true;m.ready=false;m.container.attr("data-ss-state","notransition");m.widget.attr("data-ss-state","intransit");if(m.interrupted){g(m.container[0],m.interruptedOffset+q.gesture.deltaX)}else{g(m.container[0],m.offset+q.gesture.deltaX)}}}};j.prototype.gotoPos=function(m,n,q){var p=this;this.currentItem=f(this.items.get(p.index));if(this.overlay){this.resetZoomState()}this.offset=m;this.container.attr("data-ss-state","intransit");this.widget.attr("data-ss-state","intransit");this.ready=true;if(this.autoscroll){this.autoscrollOff();if(this.autoscrollRestartID){window.clearInterval(p.autoscrollRestartID);this.autoscrollRestartID=null}}if(this.infinite){var r=0,o=0;r=parseFloat(this.container.css(a+"transition-duration").replace(/s$/,""))*1000;r=(!r)?650:r;if(!q&&!n&&this.index===this.numChildren-2&&!this.forward){this.looping=true;this.infiniteID=window.setTimeout(function(){o=(soysauce.vars.degrade)?p.rewindCoord:parseInt(soysauce.getArrayFromMatrix(p.container.css(a+"transform"))[4],10);p.container.attr("data-ss-state","notransition");p.offset=o-p.itemWidth*(p.numChildren-2);g(p.container[0],p.offset);window.setTimeout(function(){p.container.attr("data-ss-state","intransit");if(p.peek&&/left/.test(p.peekAlign)){p.offset=-p.index*p.itemWidth}else{p.offset=-p.index*p.itemWidth+p.peekWidth}g(p.container[0],p.offset);p.looping=false},20)},0)}else{if(!q&&!n&&this.index===1&&this.forward){this.looping=true;this.infiniteID=window.setTimeout(function(){o=(soysauce.vars.degrade)?p.rewindCoord:parseInt(soysauce.getArrayFromMatrix(p.container.css(a+"transform"))[4],10);p.container.attr("data-ss-state","notransition");p.offset=p.itemWidth*(p.numChildren-2)+o;g(p.container[0],p.offset);window.setTimeout(function(){p.container.attr("data-ss-state","intransit");if(p.peek&&/left/.test(p.peekAlign)){p.offset=-p.itemWidth}else{p.offset=-p.itemWidth+p.peekWidth}g(p.container[0],p.offset);p.looping=false},20)},0)}else{g(this.container[0],m);this.infiniteID=null}}}else{g(this.container[0],m)}};j.prototype.slideForward=function(){var o=(this.infinite)?f(this.dots[this.index-1]):f(this.dots[this.index]),n=this.numChildren-1,m=(this.multi)?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||this.isZooming||(!this.infinite&&this.index===n)||(!this.infinite&&this.multi&&this.index===this.maxIndex-1)){return false}o.attr("data-ss-state","inactive");if(this.multi){var p=f(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));p.attr("data-ss-state","inactive");this.index++}else{f(this.items[this.index++]).attr("data-ss-state","inactive")}if(this.infinite&&this.index===n){f(this.items[1]).attr("data-ss-state","active");this.index=1}else{if(this.multi){var p;if(!this.multiVars.even&&this.index===this.maxIndex-1){p=f(this.items.slice(this.items.length-this.multiVars.stepSize,this.items.length))}else{p=f(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems))}p.attr("data-ss-state","active")}else{f(this.items[this.index]).attr("data-ss-state","active")}}o=(this.infinite)?f(this.dots[this.index-1]):f(this.dots[this.index]);o.attr("data-ss-state","active");if(!this.infinite){if(this.index===n||(this.multi&&this.index===this.maxIndex-1)){this.nextBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.prevBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=true;if(this.multi&&!this.multiVars.even&&this.index===this.maxIndex-1){m-=(this.multiVars.stepSize-(this.items.length%this.multiVars.stepSize))*this.itemWidth}this.gotoPos(this.offset-m);return true};j.prototype.slideBackward=function(){var o=(this.infinite)?f(this.dots[this.index-1]):f(this.dots[this.index]),n=this.numChildren-1,m=(this.multi)?this.multiVars.stepSize*this.itemWidth:this.itemWidth;if(!this.ready||(!this.infinite&&this.index===0)||this.isZooming){return false}o.attr("data-ss-state","inactive");if(this.multi){var q=f(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));q.attr("data-ss-state","inactive");this.index--}else{f(this.items[this.index--]).attr("data-ss-state","inactive")}if(this.infinite&&this.index===0){f(this.items[n-1]).attr("data-ss-state","active");this.index=n-1}else{if(this.multi){var q=f(this.items.slice(this.index*this.multiVars.stepSize,this.index*this.multiVars.stepSize+this.multiVars.numItems));q.attr("data-ss-state","active")}else{f(this.items[this.index]).attr("data-ss-state","active")}}o=(this.infinite)?f(this.dots[this.index-1]):f(this.dots[this.index]);o.attr("data-ss-state","active");if(!this.infinite){if(this.index===0){this.prevBtn.attr("data-ss-state","disabled")}if(this.numChildren>1){this.nextBtn.attr("data-ss-state","enabled")}}this.ready=false;this.forward=false;if(this.multi&&!this.multiVars.even&&this.index===0){var p=this.peekAlign==="left"?0:this.peekWidth;this.gotoPos(0+p)}else{this.gotoPos(this.offset+m)}return true};j.prototype.handleResize=function(){var q;var p=0;var o="";var m=this;window.clearTimeout(this.resizeID);if(this.widget.is(":hidden")&&!this.defer){return}this.widgetWidth=this.widget.outerWidth();if(!this.widgetWidth){q=this.widget.parents().closest("[data-ss-widget='toggler'] [data-ss-component='content']")}if(q){q.css("display","block");this.widgetWidth=this.widgetWidth||q.outerWidth()}if(this.fade){return}if(this.isZoomed){this.resetZoomState();this.enableSwipe()}if(this.peek){if(this.responsivePeek){switch(soysauce.browser.getOrientation()){case"portrait":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-portrait"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||k;break;case"landscape":this.peekWidth=parseInt(this.widget.attr("data-ss-peek-width-landscape"),10)||parseInt(this.widget.attr("data-ss-peek-width"),10)||k;break}}}var n=this.widgetWidth;if(this.peek){n-=this.peekWidth*2}if(this.multi){if(this.multiVars.minWidth){this.multiVars.numItems=Math.floor(n/this.multiVars.minWidth)}this.itemWidth=n/this.multiVars.numItems}o=this.container.attr("data-ss-state");if(this.multi){p=n-(this.itemWidth*this.multiVars.numItems)}else{p=n-this.itemWidth}this.itemWidth+=p;if(this.peek&&this.peekAlign==="left"){this.offset=-this.index*this.itemWidth}else{this.offset=-this.index*this.itemWidth+this.peekWidth}this.container.attr("data-ss-state","notransition");if(this.widget.attr("data-ss-state")){this.widget.attr("data-ss-state","intransit")}this.items.css("width",this.itemWidth+"px");g(this.container[0],this.offset);this.container.css("width",(this.itemWidth*this.numChildren)+"px");if(this.autoheight){this.widget.css("height",f(this.items[this.index]).outerHeight(true))}this.resizeID=window.setTimeout(function(){m.container.attr("data-ss-state","ready");if(m.widget.attr("data-ss-state")){m.widget.attr("data-ss-state","ready")}},300)};j.prototype.autoscrollOn=function(o){var n=this;if(!this.autoscroll&&!o){return false}this.autoscroll=!o?this.autoscroll:true;if(!this.autoscrollID){if(!this.autoscrollInterval){var m=this.widget.attr("data-ss-autoscroll-interval");this.autoscrollInterval=(!m)?e:parseInt(m,10)}this.autoscrollID=window.setInterval(function(){if(soysauce.vars.degrade){n.rewindCoord=-n.itemWidth*3-n.peekWidth}n.slideForward()},n.autoscrollInterval);return true}return false};j.prototype.autoscrollOff=function(m){var n=this;if(!this.autoscroll||!this.autoscrollID&&!m){return false}window.clearInterval(n.autoscrollID);this.autoscrollID=null;return true};j.prototype.handleFreeze=function(){if(this.freeze){return}this.freeze=true;this.autoscrollOff(true);return true};j.prototype.handleUnfreeze=function(){if(!this.freeze){return}this.freeze=false;this.autoscrollOn();return true};j.prototype.jumpTo=function(p,m){var o=this;if(p===this.index){return false}if(this.infinite){if(p<1||p>this.maxIndex){return false}}else{if(p<0||p>this.maxIndex-1){return false}}this.jumping=true;this.ready=false;var q=p*-this.itemWidth+this.peekWidth;if(this.infinite){f(this.items[this.index]).attr("data-ss-state","inactive");f(this.items[p]).attr("data-ss-state","active");f(this.dots[this.index-1]).attr("data-ss-state","inactive");f(this.dots[p-1]).attr("data-ss-state","active")}else{f(this.items[this.index]).attr("data-ss-state","inactive");f(this.items[p]).attr("data-ss-state","active");f(this.dots[this.index]).attr("data-ss-state","inactive");f(this.dots[p]).attr("data-ss-state","active")}if(this.fade){this.index=p;return true}if(this.autoheight){var n=f(this.items[p]).outerHeight(true);this.widget.height(n)}this.index=p;if(m){this.container.attr("data-ss-state","notransition");g(o.container[0],q);setTimeout(function(){o.gotoPos(q,true);o.setTransitionedStates({timestamp:new Date()})},0)}else{this.gotoPos(q,true)}return true};j.prototype.setTransitionedStates=function(n){var m=this;if(Math.abs(n.timeStamp-m.lastTransitionEnd)<300){return}m.lastTransitionEnd=n.timeStamp;m.widget.trigger("slideEnd");m.widget.trigger("SSSlideEnd");m.ready=true;m.jumping=false;m.interrupted=false;m.swiping=false;m.looping=false;m.container.attr("data-ss-state","ready");m.widget.attr("data-ss-state","ready");if(m.autoscroll&&!m.autoscrollRestartID){m.autoscrollRestartID=window.setTimeout(function(){m.autoscrollOn()},1000)}if(m.autoheight){m.widget.css("height",f(m.items[m.index]).outerHeight(true))}};j.prototype.updateItems=function(){var m=this;this.ready=false;this.container.find("> [data-ss-component='item']:not([data-ss-state])").attr("data-ss-state","inactive");if(!this.container.find("> [data-ss-component][data-ss-state='active']").length){if(this.infinite){this.container.find("> [data-ss-component='item']:nth-of-type(2)").attr("data-ss-state","active")}else{this.items.first().attr("data-ss-state","active")}}this.index=this.container.find("> [data-ss-component][data-ss-state='active']").index();this.items=this.container.find("> [data-ss-component='item']");this.items.css("width",this.itemWidth);this.numChildren=this.items.length;if(this.infinite){this.maxIndex=this.numChildren-2}else{this.maxIndex=this.numChildren-1}this.container.css("width",this.itemWidth*this.numChildren);this.container.imagesLoaded(function(){m.ready=true;m.widget.attr("data-ss-state","ready")})};function g(n,m,o){m=m||0;o=o||0;if(soysauce.vars.degrade){n.style.left=m+"px"}else{n.style.webkitTransform=n.style.msTransform=n.style.OTransform=n.style.MozTransform=n.style.transform="translate3d("+m+"px,"+o+"px,0)"}}function h(n,o,m,p){m=m||0;p=p||0;n.style.webkitTransform=n.style.msTransform=n.style.OTransform=n.style.MozTransform=n.style.transform="matrix("+o+",0,0,"+o+","+m+","+p+")"}function b(q,p){var o=q.container.find("> [data-ss-component='item']");var n,m;if(p>q.maxIndex){return}q.cloneDepth=p;n=o.slice(0,p).clone();m=o.slice(q.maxIndex-p,q.maxIndex).clone();n.appendTo(q.container);m.prependTo(q.container)}return{init:function(m){return new j(m)}}})(jQuery);soysauce.geocoder=(function(b){var c="//jeocoder.herokuapp.com/zips/";var a="//www.mapquestapi.com/geocoding/v1/reverse?key=Fmjtd%7Cluub2l6tnu%2Ca5%3Do5-96tw0f";function d(e){var g=soysauce.getOptions(e);var f=this;this.widget=b(e);this.zip=this.widget.find("[data-ss-component='zip']");this.city=this.widget.find("[data-ss-component='city']");this.state=this.widget.find("[data-ss-component='state']");this.lastRequestedData;this.freeze=false;this.data=null;this.reverse=false;this.reverseGeocodeButton=this.widget.find("[data-ss-component='reverse-geocode']");if(g){g.forEach(function(h){switch(h){case"reverse":f.reverse=true;break}})}if(this.reverse){this.reverseGeocodeButton.on("click",function(){f.reverseGeocode()})}else{this.zip.on("keyup change",function(){f.getLocationData()})}}d.prototype.reverseGeocode=function(){var e=this;if(!navigator.geolocation||this.freeze){return}e.widget.trigger("SSDataFetch");navigator.geolocation.getCurrentPosition(h,f,g);var g={enableHighAccuracy:true,timeout:20000,maximumAge:0};function h(j){var k=a+"&lat="+j.coords.latitude+"&lng="+j.coords.longitude+"&callback=soysauce.fetch("+e.id+").setLocationData";b("body").append("<script src='"+k+"'><\/script>")}function f(j){console.warn("Soysauce (err "+j.code+") could not fetch data: "+j.message);e.widget.trigger("SSDataError")}};d.prototype.setLocationData=function(g){if(this.freeze){return}this.lastRequestedData=g;try{if(this.reverse){var f=g.results[0].locations[0];this.widget.data("zip",f.postalCode);this.widget.data("city",f.adminArea5);this.widget.data("state",f.adminArea3);this.data={};this.data.zip=f.postalCode;this.data.city=f.adminArea5;this.data.state=f.adminArea3}else{this.widget.data("city",g.city);this.widget.data("state",g.state);this.data=g}this.widget.trigger("SSDataReady")}catch(h){console.warn("Soysauce: Unable to set location data. Try obtaining data from 'lastRequestedData' variable.")}};d.prototype.getLocationData=function(){var e=this;var f=this.zip[0].value;if(this.freeze){return}if((f.length===5)&&(parseFloat(f,10)==parseInt(f,10))&&!isNaN(f)){this.widget.trigger("SSDataFetch");b.ajax({dataType:"json",url:c+f,success:function(g){e.setLocationData(g)},error:function(){e.widget.trigger("SSDataError");console.warn("Soysauce: Could not fetch zip code "+f)}})}};d.prototype.handleFreeze=function(){this.freeze=true};d.prototype.handleUnfreeze=function(){this.freeze=false};return{init:function(e){return new d(e)}}})(jQuery);soysauce.inputClear=(function(b){function a(c){var e=soysauce.getOptions(c),d=this,f=false;this.widget=b(c);this.icon;this.widget.on("focus keyup",function(){d.handleIcon()});this.widget.on("blur",function(){if(f){return}d.widget.attr("data-ss-clear","off")});this.widget.wrap("<div data-ss-component='input-wrapper'></div>");this.widget.parent().css({display:d.widget.css("display")});this.widget.attr("data-ss-clear","off");this.widget.after("<span data-ss-component='icon'></span>");this.icon=this.widget.find("+ [data-ss-component='icon']");this.icon.on("mousedown touchstart",function(){f=true;d.icon.one("mouseup touchend",function(){d.clear();f=false})})}a.prototype.clear=function(){this.widget.val("").attr("data-ss-clear","off");this.widget.trigger("SSEmpty")};a.prototype.handleIcon=function(){this.widget.attr("data-ss-clear",(!this.widget.val().length)?"off":"on")};return{init:function(c){return new a(c)}}})(jQuery);soysauce.lazyloader=(function(c){var b=100;var e=c(window);var d=1200;function a(f){var h=soysauce.getOptions(f);var g=this;this.widget=c(f);this.items=this.widget.find("[data-ss-component='item']");this.threshold=parseInt(this.widget.attr("data-ss-threshold"),10)||d;this.processingThreshold=0;this.processing=false;this.button=this.widget.find("[data-ss-component='button']");this.complete=(this.items.length)?false:true;this.batchSize=parseInt(this.widget.attr("data-ss-batch-size"),10)||5;this.initialLoad=parseInt(this.widget.attr("data-ss-initial-load"),10);this.initialBatchLoaded=false;this.initialLoad=(this.initialLoad===0)?0:this.batchSize;this.freeze=false;this.autoload=false;this.autoloadInterval=parseInt(this.widget.attr("data-ss-interval"),10)||1000;this.autoloadIntervalID=0;this.cache=false;this.cacheInput=c("[data-ss-component='cache']");this.isCached=false;this.persistedLoad=false;this.hover=false;if(h){h.forEach(function(k){switch(k){case"autoload":g.autoload=true;break;case"cache":if(!g.cacheInput.length){console.warn("Soysauce: Cache input not found.")}else{g.cache=true;g.isCached=(parseInt(g.cacheInput.val(),10)===1)?true:false}break;case"hover":g.hover=true;g.autoload=true;break}})}if(this.cache){var j=false;if(this.isCached){this.widget.one("SSWidgetReady",function(){g.widget.trigger("SSLoadState");j=true})}else{this.cacheInput.val(1)}e.on("pagehide",function(k){g.widget.trigger("SSSaveState")});e.on("pageshow",function(k){g.persistedLoad=k.originalEvent.persisted;c(document).ready(function(){g.widget.trigger("SSLoadState")})})}this.processNextBatch(this.initialLoad);if(this.button.length){this.button.on("click",function(){g.processNextBatch()})}if(this.autoload){this.startAutoload()}}a.prototype.detectThreshold=function(){var g=this.widget.height()+this.widget.offset().top-this.threshold;var f=e.scrollTop()+e.height();if(!this.processing&&f>g){this.widget.trigger("SSThreshold")}};a.prototype.startAutoload=function(){var f=this;if(!this.autoload){return false}this.autoloadIntervalID=window.setInterval(function(){f.detectThreshold()},f.autoloadInterval);return true};a.prototype.pauseAutoload=function(){if(!this.autoloadIntervalID||!this.autoload){return false}window.clearInterval(this.autoloadIntervalID);this.autoloadIntervalID=null;return true};a.prototype.processNextBatch=function(g){var j;var f=this;var h=0;g=(g===0)?0:this.batchSize;j=c(this.items.splice(0,g));if(this.processing||this.complete||(!this.initialBatchLoaded&&this.initialLoad===0)||this.freeze){return}this.processing=true;this.widget.trigger("SSBatchStart");if(j.length===0){this.processing=false;this.complete=true;this.widget.trigger("SSItemsEmpty")}else{j.each(function(l,m){var k=c(m);if(f.freeze){return false}k.find("[data-ss-ll-src]").each(function(){soysauce.lateload(this)});k.imagesLoaded(function(n){k.attr("data-ss-state","loaded");if(++h===j.length){f.processing=false;f.widget.trigger("SSBatchLoaded");if(f.items.length&&f.initialBatchLoaded){f.calcProcessingThreshold()}if(!f.items.length){f.complete=true;f.widget.trigger("SSItemsEmpty")}else{if(!f.initialBatchLoaded){f.initialBatchLoaded=true;f.calcProcessingThreshold()}}}})})}};a.prototype.calcProcessingThreshold=function(){if(!this.items.length){return}this.processingThreshold=this.widget.height()+this.widget.offset().top-this.items.first().offset().top;this.processingThreshold=(this.threshold<d)?d:this.processingThreshold};a.prototype.reload=function(f,g){this.items=this.widget.find("[data-ss-component='item']:not([data-ss-state])");if(this.items.length){this.complete=false;if(f!==false){this.processNextBatch(g)}}};a.prototype.handleResize=function(){this.calcProcessingThreshold()};a.prototype.handleFreeze=function(){if(this.freeze){return false}this.freeze=true;this.pauseAutoload();return true};a.prototype.handleUnfreeze=function(){if(!this.freeze){return false}this.freeze=false;this.startAutoload();return true};return{init:function(f){return new a(f)}}})(jQuery);soysauce.togglers=(function(c){var b="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd";function a(g,s){var r=this;var t=soysauce.getOptions(g);if(s){var l=c(g);var j=l.attr("data-ss-toggler-id");var n="[data-ss-toggler-id='"+j+"']";var o="";this.orphan=true;this.widget=c(n);this.widget.each(function(v,u){var w=c(u).attr("data-ss-component");switch(w){case"button":r.button=c(u);break;case"content":r.content=c(u);break}});if(!this.content){console.warn("Soysauce: No content found for toggler-id '"+j+"'. Toggler may not work.");return}this.button.click(function(u){if(r.opened){return false}r.toggle(null,u)});o=l.attr("data-ss-tab-group");this.orphanTabGroup=c("[data-ss-tab-group='"+o+"']");this.orphanTabs=(this.orphanTabGroup.length>1)?true:false;this.content.attr("data-ss-id",l.attr("data-ss-id"));this.allButtons=this.button;this.allContent=this.content;if(this.button.attr("data-ss-state")==="open"){this.setState("open");this.opened=true}else{this.setState("closed");this.opened=false}}else{this.widget=c(g);this.orphan=false;this.allButtons=this.widget.find("> [data-ss-component='button']");this.button=this.allButtons.first();this.allContent=this.widget.find("> [data-ss-component='content']");this.content=this.allContent.first()}this.parentID=0;this.state="closed";this.isChildToggler=false;this.hasTogglers=false;this.parent=undefined;this.ready=true;this.adjustFlag=false;this.freeze=false;this.opened=this.opened||false;this.slide=false;this.height=0;this.prevChildHeight=0;this.ajax=false;this.ajaxData;this.ajaxing=false;this.ajaxOnLoad=false;this.tab=false;this.childTabOpen=false;this.nocollapse=false;this.responsive=false;this.responsiveVars={threshold:parseInt(this.widget.attr("data-ss-responsive-threshold"),10)||768,accordions:true};if(t){t.forEach(function(u){switch(u){case"ajax":r.ajax=true;r.ajaxOnLoad=/true/.test(r.widget.attr("data-ss-ajax-onload"));break;case"tabs":r.tab=true;break;case"nocollapse":r.nocollapse=true;break;case"slide":r.slide=(soysauce.vars.degrade)?false:true;break;case"responsive":r.responsive=true;r.tab=true;break}})}if(this.orphan){this.content.on(b,function(){r.content.trigger("slideEnd");r.ready=true});return this}this.allButtons.append("<span class='icon'></span>");this.allContent.wrapInner("<div data-ss-component='wrapper'/>");this.hasTogglers=(this.widget.has("[data-ss-widget='toggler']").length>0)?true:false;this.isChildToggler=(this.widget.parents("[data-ss-widget='toggler']").length>0)?true:false;if(this.isChildToggler){var p=this.widget.parents("[data-ss-widget='toggler']");this.parentID=parseInt(p.attr("data-ss-id"),10);this.parent=soysauce.fetch(this.parentID)}if(this.widget.attr("data-ss-state")==="open"){this.allButtons.each(function(){var u=c(this);if(!u.attr("data-ss-state")){u.attr("data-ss-state","closed");u.find("+ [data-ss-component='content']").attr("data-ss-state","closed")}else{if(u.attr("data-ss-state")==="open"){r.button=u;r.content=u.find("+ [data-ss-component='content']")}}});this.opened=true}else{this.allButtons.attr("data-ss-state","closed");this.allContent.attr("data-ss-state","closed");this.widget.attr("data-ss-state","closed");this.opened=false}if(this.slide){this.widget.find("> [data-ss-component='content'][data-ss-state='open']").attr("data-ss-open-onload","true");this.allContent.attr("data-ss-state","open");this.allContent.each(function(){var u=c(this);u.imagesLoaded(function(){var v;if(r.hasTogglers){u.find("[data-ss-component='content']").attr("data-ss-state","closed")}v=u.outerHeight(true);u.attr("data-ss-slide-height",v);if(!u.attr("data-ss-open-onload")){u.css("height","0px");u.attr("data-ss-state","closed")}else{r.height=v;u.css("height",r.height)}if(r.hasTogglers){u.find("[data-ss-component='content']").removeAttr("data-ss-state")}})});this.allContent.on(b,function(){if(!r.orphan){r.widget.trigger("slideEnd")}r.ready=true})}this.allButtons.click(function(u){r.toggle(null,u)});if(this.responsive){this.handleResponsive()}if(this.ajax){var h=this.widget;var m=this.widget.find("> [data-ss-component='content'][data-ss-ajax-url]");var f;var e="";var q;var r=this;var d=false;if(m.length===0){console.warn("Soysauce: 'data-ss-ajax-url' tag required on content. Must be on the same domain if site doesn't support CORS.");return}m.each(function(v,u){f=c(u.previousElementSibling);if(r.ajaxOnLoad){h.on("SSWidgetReady",function(){k(r,u)})}else{f.click(function(){k(r,u)})}});function k(v,u){e=c(u).attr("data-ss-ajax-url");v.setState("ajaxing");v.ready=false;v.ajaxing=true;soysauce.ajax(e,function(x,w){if(/success|cached/.test(w)){v.ajaxData=x}else{console.warn("Soysauce: AJAX request to "+e+" failed in toggler.js")}v.setAjaxComplete()})}}if(this.tab&&this.nocollapse){this.content.imagesLoaded(function(){r.widget.css("min-height",r.button.outerHeight(true)+r.content.outerHeight(true))})}}a.prototype.openToggler=function(){var f=this.responsiveVars.accordions;if(!this.ready&&!f){return}var d=this;var e=0;if(this.slide){if(this.responsive&&!f){return}this.ready=false;if(this.adjustFlag||f){this.content.one(b,function(){d.adjustHeight()})}if(this.isChildToggler&&this.parent.slide){if(this.tab){this.parent.setHeight(this.parent.height+this.height-this.parent.prevChildHeight)}else{this.parent.addHeight(this.height)}this.parent.prevChildHeight=this.height}if(this.ajax&&this.height===0){c(this.content).imagesLoaded(function(){d.content.css("height","auto");d.height=d.content.outerHeight(true);d.content.css("height",d.height+"px")})}else{d.height=parseInt(d.content.attr("data-ss-slide-height"),10);d.content.css("height",d.height+"px")}}if(this.tab&&this.nocollapse){this.widget.css("min-height",this.button.outerHeight(true)+this.content.outerHeight(true))}this.opened=true;this.setState("open")};a.prototype.close=function(f,g){var e=this;var d=c(f);if(!this.ready){return}if(this.slide){this.ready=false;if(this.isChildToggler&&this.parent.slide&&g){this.parent.addHeight(-this.height)}this.content.css("height","0px")}if(!f){this.allButtons.attr("data-ss-state","closed");this.allContent.attr("data-ss-state","closed");this.state="closed";this.opened=false}else{if(d.attr("data-ss-state")==="closed"){return false}if(d.attr("data-ss-component")==="button"){this.button=d;if(!this.orphan){this.content=d.find("+ *")}}else{console.warn("Soysauce: target parameter must be a button")}}this.setState("closed")};a.prototype.open=function(e){var d=c(e);if(d.attr("data-ss-state")==="open"){return false}if(d.attr("data-ss-component")==="button"&&!this.orphan){d=d.find("+ *")}this.toggle(d[0])};a.prototype.doResize=function(){this.adjustFlag=true;if(this.opened){this.adjustHeight()}if(this.responsive){this.handleResponsive()}};a.prototype.handleResize=function(){var e=this;var d=this.allContent.find("[data-ss-widget]");if(this.defer&&d.length){this.allContent.css({clear:"both",position:"relative"});if(!d.length){this.doResize()}else{d.each(function(f,h){var g=soysauce.fetch(h).widget;if((f+1)!==d.length){return}g.one("SSWidgetResized",function(){e.allContent.css({clear:"",position:"",display:""});e.doResize()})})}}else{this.doResize()}};a.prototype.adjustHeight=function(){if(!this.slide){if(this.tab&&this.nocollapse){this.widget.css("min-height",this.button.outerHeight(true)+this.content.outerHeight(true))}return}if(this.opened){this.height=this.content.find("> [data-ss-component='wrapper']").outerHeight(true);this.content.attr("data-ss-slide-height",this.height).height(this.height)}};a.prototype.addHeight=function(d){this.height+=d;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.setHeight=function(d){this.height=d;this.height=(this.height<0)?0:this.height;if(this.slide){this.content.attr("data-ss-slide-height",this.height)}this.content.css("height",this.height+"px")};a.prototype.toggle=function(g,j){var f=this;var h;if(this.freeze||this.ajaxing){return}if(j){h=j.target}else{if(g&&!this.orphan){if(typeof(g)==="string"){h=g=this.widget.find(g)[0]}try{if(/content/.test(g.attributes["data-ss-component"].value)){var d=this.widget.find(g);h=g.previousElementSibling}}catch(j){console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler.");h=this.button[0]}}else{h=this.button[0];if(h&&!h.attributes["data-ss-component"]){console.warn("Soysauce: component passed is not a Soysauce component. Opening first toggler.")}}}if(!c(h).attr("data-ss-component")){h=c(h).closest("[data-ss-component='button']")[0]}if(this.orphan){if(this.opened){this.opened=false;this.setState("closed")}else{if(this.orphanTabs){this.orphanTabGroup.each(function(){var e=soysauce.fetch(this);if(e.opened){e.toggle()}})}this.opened=true;this.setState("open")}return}if(this.tab){var k=(this.button.attr("data-ss-state")==="open"&&this.button[0]===h)?true:false;if((this.responsive&&!this.responsiveVars.accordions||this.nocollapse)&&(this.button[0]===h)){return}if(this.isChildToggler&&this.tab){this.parent.childTabOpen=!k;if(k){this.parent.prevChildHeight=0}}this.close(null,k);this.button=c(h);this.content=c(h).find("+ [data-ss-component='content']");if(this.slide){f.height=parseInt(f.content.attr("data-ss-slide-height"),10)}if(k){this.widget.attr("data-ss-state","closed");this.opened=false;return}this.openToggler()}else{var k;this.button=c(h);this.content=c(h).find("+ [data-ss-component='content']");k=(this.button.attr("data-ss-state")==="open"&&this.widget.find("[data-ss-component='button'][data-ss-state='open']").length===1)?true:false;if(k){this.opened=false}(this.button.attr("data-ss-state")==="closed")?this.openToggler():this.close(h)}};a.prototype.setState=function(d){this.state=d;this.button.attr("data-ss-state",d);this.content.attr("data-ss-state",d);if(this.orphan){return}if(this.opened){this.widget.attr("data-ss-state","open")}else{this.widget.attr("data-ss-state","closed")}if(this.responsive&&this.opened){this.handleResponsive()}};a.prototype.setAjaxComplete=function(){this.ajaxing=false;this.ready=true;if(this.opened){this.setState("open")}else{this.setState("closed")}this.widget.trigger("SSAjaxComplete")};a.prototype.handleFreeze=function(){this.freeze=true};a.prototype.handleUnfreeze=function(){this.freeze=false};a.prototype.handleResponsive=function(){if(!this.responsive){return}if(window.innerWidth>=this.responsiveVars.threshold){this.responsiveVars.accordions=false;this.widget.attr("data-ss-responsive-type","tabs");if(!this.opened){this.button=this.widget.find("[data-ss-component='button']").first();this.content=this.widget.find("[data-ss-component='content']").first();this.openToggler()}this.widget.css("min-height",this.button.outerHeight(true)+this.content.outerHeight(true)+"px")}else{this.responsiveVars.accordions=true;this.widget.attr("data-ss-responsive-type","accordions");this.widget.css("min-height","0")}};return{init:function(d,e){return new a(d,e)}}})(jQuery);